
<!DOCTYPE html>

<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
        <link rel="profile" href="http://gmpg.org/xfn/11">
        <link rel="pingback" href="https://dantestrattoria.com/xmlrpc.php">
        <link rel="icon" href="https://dantestrattoria.com/wp-content/themes/restaurants-20/img/favicon.png" sizes="192x192" type="image/png" />
        <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	
	<!-- This site is optimized with the Yoast SEO plugin v26.4 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>Shop - Dante&#039;s Trattoria</title>
	<link rel="canonical" href="https://dantestrattoria.com/shop/" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Shop - Dante&#039;s Trattoria" />
	<meta property="og:url" content="https://dantestrattoria.com/shop/" />
	<meta property="og:site_name" content="Dante&#039;s Trattoria" />
	<meta name="twitter:card" content="summary_large_image" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://dantestrattoria.com/shop/","url":"https://dantestrattoria.com/shop/","name":"Shop - Dante's Trattoria","isPartOf":{"@id":"https://dantestrattoria.com/#website"},"datePublished":"2016-08-12T10:02:59+00:00","breadcrumb":{"@id":"https://dantestrattoria.com/shop/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://dantestrattoria.com/shop/"]}]},{"@type":"BreadcrumbList","@id":"https://dantestrattoria.com/shop/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://dantestrattoria.com/"},{"@type":"ListItem","position":2,"name":"Shop"}]},{"@type":"WebSite","@id":"https://dantestrattoria.com/#website","url":"https://dantestrattoria.com/","name":"Dante's Trattoria","description":"Mahopac, NY Pizza Delivery - Dante&#039;s Trattoria","publisher":{"@id":"https://dantestrattoria.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://dantestrattoria.com/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"en-US"},{"@type":"Organization","@id":"https://dantestrattoria.com/#organization","name":"Dante's Trattoria","url":"https://dantestrattoria.com/","logo":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://dantestrattoria.com/#/schema/logo/image/","url":"https://dantestrattoria.com/wp-content/uploads/2022/09/Website-Logo-1.png","contentUrl":"https://dantestrattoria.com/wp-content/uploads/2022/09/Website-Logo-1.png","width":3240,"height":3240,"caption":"Dante's Trattoria"},"image":{"@id":"https://dantestrattoria.com/#/schema/logo/image/"}}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='//www.googletagmanager.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
<link rel="alternate" type="application/rss+xml" title="Dante&#039;s Trattoria &raquo; Feed" href="https://dantestrattoria.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Dante&#039;s Trattoria &raquo; Comments Feed" href="https://dantestrattoria.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Dante&#039;s Trattoria &raquo; Products Feed" href="https://dantestrattoria.com/shop/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/dantestrattoria.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.3"}};
/*! This file is auto-generated */
!function(s,n){var o,i,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),a=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===a[t]})}function u(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);for(var n=e.getImageData(16,16,1,1),a=0;a<n.data.length;a++)if(0!==n.data[a])return!1;return!0}function f(e,t,n,a){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\udde8\ud83c\uddf6","\ud83c\udde8\u200b\ud83c\uddf6")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!a(e,"\ud83e\udedf")}return!1}function g(e,t,n,a){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):s.createElement("canvas"),o=r.getContext("2d",{willReadFrequently:!0}),i=(o.textBaseline="top",o.font="600 32px Arial",{});return e.forEach(function(e){i[e]=t(o,e,n,a)}),i}function t(e){var t=s.createElement("script");t.src=e,t.defer=!0,s.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",i=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){s.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+g.toString()+"("+[JSON.stringify(i),f.toString(),p.toString(),u.toString()].join(",")+"));",a=new Blob([e],{type:"text/javascript"}),r=new Worker(URL.createObjectURL(a),{name:"wpTestEmojiSupports"});return void(r.onmessage=function(e){c(n=e.data),r.terminate(),t(n)})}catch(e){}c(n=g(i,f,p,u))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style type="text/css" media="all">
.wpautoterms-footer{background-color:#ffffff;text-align:center;}
.wpautoterms-footer a{color:#000000;font-family:Arial, sans-serif;font-size:14px;}
.wpautoterms-footer .separator{color:#cccccc;font-family:Arial, sans-serif;font-size:14px;}</style>
<link rel='stylesheet' id='pizzaro-woocommerce-style-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/woocommerce/woocommerce.css?ver=6.8.3' type='text/css' media='all' />
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='https://dantestrattoria.com/wp-includes/css/dist/block-library/style.min.css?ver=6.8.3' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<link rel='stylesheet' id='wc-gift-cards-blocks-integration-css' href='https://dantestrattoria.com/wp-content/plugins/woocommerce-gift-cards/assets/dist/frontend/blocks.css?ver=2.7.1' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='wpautoterms_css-css' href='https://dantestrattoria.com/wp-content/plugins/auto-terms-of-service-and-privacy-policy/css/wpautoterms.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='conditional-extra-fees-woocommerce-css' href='https://dantestrattoria.com/wp-content/plugins/conditional-extra-fees-for-woocommerce/public/css/conditional-fees-rule-woocommerce-public.css?ver=1.1.49.30' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css' href='https://dantestrattoria.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=6.1.3' type='text/css' media='all' />
<link rel='stylesheet' id='crustup-custom-ada-compliance-css' href='https://dantestrattoria.com/wp-content/plugins/crustup-custom-ada-compliance/public/css/crustup-custom-ada-compliance-public.css?ver=1.0.11' type='text/css' media='all' />
<link rel='stylesheet' id='pizza-custom-features-upsell-css-css' href='https://dantestrattoria.com/wp-content/plugins/pizza-custom-features/public/css/cart-upsell.css?ver=6.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='dig-in__global-styles-css' href='https://dantestrattoria.com/wp-content/plugins/pizza-custom-features/public/css/dig-in-global.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='shiparea-style-css' href='https://dantestrattoria.com/wp-content/plugins/woocommerce-map-delivery-area//public/assets/css/shiparea-shortcode.css?ver=6.8.3' type='text/css' media='' />
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='wp-review-slider-pro-public_combine-css' href='https://dantestrattoria.com/wp-content/plugins/wp-google-places-review-slider/public/css/wprev-public_combine.css?ver=17.7' type='text/css' media='all' />
<link rel='stylesheet' id='wc-gc-css-css' href='https://dantestrattoria.com/wp-content/plugins/woocommerce-gift-cards/assets/css/frontend/woocommerce.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='brands-styles-css' href='https://dantestrattoria.com/wp-content/plugins/woocommerce/assets/css/brands.css?ver=10.3.5' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/bootstrap.min.css?ver=3.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='animate-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/animate.min.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='pizzaro-style-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/style.css?ver=1.3.9' type='text/css' media='all' />
<link rel='stylesheet' id='pizzaro-color-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/color/red.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='pizzaro-icons-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/font-pizzaro.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='custom-scrollbar-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/jquery.mCustomScrollbar.min.css?ver=3.1.5' type='text/css' media='all' />
<link rel='stylesheet' id='pizzaro-woocommerce-brands-style-css' href='https://dantestrattoria.com/wp-content/themes/pizzaro/assets/css/woocommerce/extensions/brands.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='pizzaro-child-style-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/style.css?ver=6.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='digin-child-custom-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/style-custom.css?ver=1757623227' type='text/css' media='all' />
<link rel='stylesheet' id='digin-icon-font-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/digin-icon-font.css?ver=1.06' type='text/css' media='all' />
<link rel='stylesheet' id='slick-slider-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/slick.min.css?ver=1.06' type='text/css' media='all' />
<link rel='stylesheet' id='slick-slider-theme-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/accessible-slick-theme.min.css?ver=1.06' type='text/css' media='all' />
<link rel='stylesheet' id='digin-child-overrides-css' href='https://dantestrattoria.com/wp-content/uploads/digin-child-overrides.css?ver=1732123767' type='text/css' media='all' />
<link rel='stylesheet' id='vue-element-plus-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/element-plus-2.2.19.min.css?ver=1.06' type='text/css' media='all' />
<link rel='stylesheet' id='shop-styles-css' href='https://dantestrattoria.com/wp-content/themes/restaurants-20/styles/shop.css?ver=1.06' type='text/css' media='all' />
<link rel='stylesheet' id='shop-fonts-css' href='https://fonts.googleapis.com/css2?family=Poppins%3Aital%2Cwght%400%2C400%3B0%2C600%3B0%2C700%3B1%2C400&#038;display=swap&#038;ver=1.06' type='text/css' media='all' />
<link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Oswald:400%7COpen%20Sans&#038;subset=latin&#038;display=swap&#038;ver=1749761637" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400%7COpen%20Sans&#038;subset=latin&#038;display=swap&#038;ver=1749761637" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400%7COpen%20Sans&#038;subset=latin&#038;display=swap&#038;ver=1749761637" /></noscript><link rel='stylesheet' id='noticia-text-css' href='//fonts.googleapis.com/css?family=Noticia+Text%3Aregular%2Citalic%2C700%2C700italic&#038;subset=latin%2Cvietnamese%2Clatin-ext&#038;ver=2.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='cinzel-css' href='//fonts.googleapis.com/css?family=Cinzel%3Aregular%2C500%2C600%2C700%2C800%2C900&#038;subset=latin%2Clatin-ext&#038;ver=2.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='kc-general-css' href='https://dantestrattoria.com/wp-content/plugins/kingcomposer/assets/frontend/css/kingcomposer.min.css?ver=2.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='kc-animate-css' href='https://dantestrattoria.com/wp-content/plugins/kingcomposer/assets/css/animate.css?ver=2.9.6' type='text/css' media='all' />
<script type="text/javascript" id="woocommerce-google-analytics-integration-gtag-js-after">
/* <![CDATA[ */
/* Google Analytics for WooCommerce (gtag.js) */
					window.dataLayer = window.dataLayer || [];
					function gtag(){dataLayer.push(arguments);}
					// Set up default consent state.
					for ( const mode of [{"analytics_storage":"denied","ad_storage":"denied","ad_user_data":"denied","ad_personalization":"denied","region":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","GB","CH"]}] || [] ) {
						gtag( "consent", "default", { "wait_for_update": 500, ...mode } );
					}
					gtag("js", new Date());
					gtag("set", "developer_id.dOGY3NW", true);
					gtag("config", "G-93LGT1Y412", {"track_404":true,"allow_google_signals":false,"logged_in":false,"linker":{"domains":[],"allow_incoming":false},"custom_map":{"dimension1":"logged_in"}});
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/dist/dom-ready.min.js?ver=f77871ff7694fffea381" id="wp-dom-ready-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/auto-terms-of-service-and-privacy-policy/js/base.js?ver=3.0.4" id="wpautoterms_base-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/conditional-extra-fees-for-woocommerce/public/js/conditional-fees-rule-woocommerce-public.js?ver=1.1.49.30" id="conditional-extra-fees-woocommerce-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/crustup-custom-ada-compliance/public/js/crustup-custom-ada-compliance-public.js?ver=1.0.11" id="crustup-custom-ada-compliance-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/pizza-custom-features/public/js/cart-upsell.js?ver=6.1.2" id="pizza-custom-features-upsell-js-js"></script>
<script type="text/javascript" id="pizza-custom-features-order-actions-js-extra">
/* <![CDATA[ */
var orderActionsParams = {"ajaxUrl":"https:\/\/dantestrattoria.com\/wp-admin\/admin-ajax.php","ajaxNonce":"718d005c0d","ajaxActions":{"fullRefund":"full_refund","partialRefund":"partial_refund","additionalCharge":"additional_charge","getOrderInfo":"get_order_info"},"frontPrefix":"pizza-custom-features"};
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/pizza-custom-features/public/js/order-actions.js?ver=6.1.2" id="pizza-custom-features-order-actions-js"></script>
<script type="text/javascript" src="//dantestrattoria.com/wp-content/plugins/revslider/sr6/assets/js/rbtools.min.js?ver=6.7.28" async id="tp-tools-js"></script>
<script type="text/javascript" src="//dantestrattoria.com/wp-content/plugins/revslider/sr6/assets/js/rs6.min.js?ver=6.7.28" async id="revmin-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/slick.min.js?ver=1" id="slick-slider-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/slick-init.js?ver=1" id="slick-init-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/bootstrap.min.js?ver=1" id="bootstrap-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/vue.prod.js?ver=1" id="vue-js-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/axios-1.1.3.min.js?ver=6.8.3" id="vue-axios-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/element-plus-2.2.19.js?ver=6.8.3" id="vue-element-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/element-plus-icons-2.0.10.min.js?ver=6.8.3" id="vue-element-icons-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/shop-helpers.js?ver=1.06" id="shop-helpers-js"></script>
<link rel="https://api.w.org/" href="https://dantestrattoria.com/wp-json/" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://dantestrattoria.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.8.3" />
<meta name="generator" content="WooCommerce 10.3.5" />
<meta name="generator" content="Redux 4.5.8" /><script type="text/javascript">var kc_script_data={ajax_url:"https://dantestrattoria.com/wp-admin/admin-ajax.php"}</script><script>var menu_store_api = {"base_url":"https:\/\/dantestrattoria.com\/wp-json\/wc\/store\/v1"} </script>
			<style>
			
				:root {
					--el-color-primary: #000000;
					--el-checkbox-checked-text-color: #000000;
				}
				
				#vue-app *:not(i) {
					font-family: 'Roboto', serif !important;
				}
				
				#vue-app .heading,
				#vue-app .menu-select input,
				#vue-app .el-card h5,
				#vue-app .cart-dialog .el-drawer__header .el-drawer__title {
					font-family: 'Poppins', serif !important;
				}
				
				#vue-app .category-heading,
				#vue-app .btn-secondary,
				#vue-app .cart-dialog .el-drawer__header .el-drawer__title {
					color: #000000 !important;
				}
				
				#vue-app .header-cart .el-button:hover,
				#vue-app .header-cart .el-button:active,
				#vue-app .header-cart .el-button:focus {
					color: #000000 !important;
				}
				
				#vue-app .btn-secondary,
				#vue-app .coupon .el-button:not(.remove-item) {
					background-color: #FFF !important;
					color: #000000 !important;
					border: 2px solid #000000 !important;
				}
				
				#vue-app .btn-secondary:hover,
				#vue-app .coupon .el-button:not(.remove-item):hover {
					background-color: #000000 !important;
					color: #FFF !important;
				}
				
				#vue-app .cart-checkout .el-button,
				#vue-app .btn-highlight {
					background-color: #000000 !important;
					border: 1px solid #000000 !important;
				}
				
				#vue-app .site-header.header-v1 .site-header-cart-v2 .cart-content > a,
				#vue-app .upsell-dialog_header .el-button,
				header.site-header button.menu-toggle {
					background-color: #000000 !important;
				}
				
				.cart-dialog .el-card .el-card__price:not(.plain),
				.shop-sidebar .el-select .el-input__wrapper,
				.pizza-builder {
					background-color: #FFFFFF !important;
				}
				
				.left-sidebar:not(.pizzaro-sidebar-header).list-view .site-content {
					padding-top: 0;
                }
                
			</style>
			<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<meta name="generator" content="Powered by Slider Revolution 6.7.28 - responsive, Mobile-Friendly Slider Plugin for WordPress with comfortable drag and drop interface." />
<script>function setREVStartSize(e){
			//window.requestAnimationFrame(function() {
				window.RSIW = window.RSIW===undefined ? window.innerWidth : window.RSIW;
				window.RSIH = window.RSIH===undefined ? window.innerHeight : window.RSIH;
				try {
					var pw = document.getElementById(e.c).parentNode.offsetWidth,
						newh;
					pw = pw===0 || isNaN(pw) || (e.l=="fullwidth" || e.layout=="fullwidth") ? window.RSIW : pw;
					e.tabw = e.tabw===undefined ? 0 : parseInt(e.tabw);
					e.thumbw = e.thumbw===undefined ? 0 : parseInt(e.thumbw);
					e.tabh = e.tabh===undefined ? 0 : parseInt(e.tabh);
					e.thumbh = e.thumbh===undefined ? 0 : parseInt(e.thumbh);
					e.tabhide = e.tabhide===undefined ? 0 : parseInt(e.tabhide);
					e.thumbhide = e.thumbhide===undefined ? 0 : parseInt(e.thumbhide);
					e.mh = e.mh===undefined || e.mh=="" || e.mh==="auto" ? 0 : parseInt(e.mh,0);
					if(e.layout==="fullscreen" || e.l==="fullscreen")
						newh = Math.max(e.mh,window.RSIH);
					else{
						e.gw = Array.isArray(e.gw) ? e.gw : [e.gw];
						for (var i in e.rl) if (e.gw[i]===undefined || e.gw[i]===0) e.gw[i] = e.gw[i-1];
						e.gh = e.el===undefined || e.el==="" || (Array.isArray(e.el) && e.el.length==0)? e.gh : e.el;
						e.gh = Array.isArray(e.gh) ? e.gh : [e.gh];
						for (var i in e.rl) if (e.gh[i]===undefined || e.gh[i]===0) e.gh[i] = e.gh[i-1];
											
						var nl = new Array(e.rl.length),
							ix = 0,
							sl;
						e.tabw = e.tabhide>=pw ? 0 : e.tabw;
						e.thumbw = e.thumbhide>=pw ? 0 : e.thumbw;
						e.tabh = e.tabhide>=pw ? 0 : e.tabh;
						e.thumbh = e.thumbhide>=pw ? 0 : e.thumbh;
						for (var i in e.rl) nl[i] = e.rl[i]<window.RSIW ? 0 : e.rl[i];
						sl = nl[0];
						for (var i in nl) if (sl>nl[i] && nl[i]>0) { sl = nl[i]; ix=i;}
						var m = pw>(e.gw[ix]+e.tabw+e.thumbw) ? 1 : (pw-(e.tabw+e.thumbw)) / (e.gw[ix]);
						newh =  (e.gh[ix] * m) + (e.tabh + e.thumbh);
					}
					var el = document.getElementById(e.c);
					if (el!==null && el) el.style.height = newh+"px";
					el = document.getElementById(e.c+"_wrapper");
					if (el!==null && el) {
						el.style.height = newh+"px";
						el.style.display = "block";
					}
				} catch(e){
					console.log("Failure at Presize of Slider:" + e)
				}
			//});
		  };</script>
			<style type="text/css">

				h1, .h1,
				h2, .h2,
				h3, .h3,
				h4, .h4,
				h5, .h5,
				h6, .h6{
					font-family: Oswald !important;
					font-weight: 400 !important;
				}

				body {
					font-family: Open Sans !important;
				}

			</style>
						<style type="text/css">
			.menu-main-menu .sub-menu {
    background: transparent !important;
    box-shadow: none !important;
}
.secondary-navigation .sub-menu  {
  background-color: #fff;
}
/*Button CTA*/
.primary-navigation #menu-main-menu a {
  color: #fff !important;
  background-color: #15883e;
  border-radius: 500px;
  letter-spacing: 2px;
  min-width: 160px;
  text-transform: uppercase;
  font-weight: 700;
  text-align: center;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
}

.primary-navigation #menu-main-menu a:hover {
  box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;
}
.show-below-1200 {
  display: none !Important;
  }

/*Home Page About*/

.site-tagline {
  font-size:2rem;
}

.home .footer-about-info {
  padding: 0 !important;
}

.footer-about-info .container {
  width: 100% !important;
  padding: 0 !important;
}

.footer-about-info .container .row {
  display: flex;
  justify-content: center;
  align-items: center;
}


/*Footer*/

.footer-about-info .image img {
  width: 100%;
  top: 0 !important;
}

.display-none {
    display: none;
}

#menu-item-8399  .sub-menu {
    background: transparent !important;
    box-shadow: none;
}

#menu-item-8399 .sub-menu .menu-item  {
    margin-bottom: 10px;
}
/*Media Queries*/

@media only screen and (max-width : 1200px) {
  .banner-buttons {
    display: none !important;

}

.show-below-1200 {
display: block !Important;
}

.hide-below-1200 {
  display: none !important;
}


.footer-about-info .image img {
  height: 400px;
  width: 100%;
  object-fit: cover;
  object-position: center;
}


.footer-about-info .container .row {
  flex-direction: column;
}

.footer-about-info .content, .footer-about-info .image {
  width: 100%;
}

.footer-about-info .content {
  padding: 40px;
}
}			</style>
			<script> var pizza_custom_ajax_url = 'https://dantestrattoria.com/wp-admin/admin-ajax.php'; </script><style type="text/css">#wpadminbar, #wpadminbar .menupop .ab-sub-wrapper, .ab-sub-secondary, #wpadminbar .quicklinks .menupop ul.ab-sub-secondary,#wpadminbar .quicklinks .menupop ul.ab-sub-secondary .ab-submenu {background:#212121}#wpadminbar a.ab-item, #wpadminbar>#wp-toolbar span.ab-label, #wpadminbar>#wp-toolbar span.noticon, #wpadminbar .ab-icon:before,#wpadminbar .ab-item:before {color:#ffffff}#wpadminbar .quicklinks .menupop ul li a, #wpadminbar .quicklinks .menupop ul li a strong, #wpadminbar .quicklinks .menupop.hover ul li a,#wpadminbar.nojs .quicklinks .menupop:hover ul li a {color:#ffffff; font-size:13px !important }#wpadminbar .ab-top-menu>li.hover>.ab-item,#wpadminbar.nojq .quicklinks .ab-top-menu>li>.ab-item:focus,#wpadminbar:not(.mobile) .ab-top-menu>li:hover>.ab-item,#wpadminbar:not(.mobile) .ab-top-menu>li>.ab-item:focus{background:#dd3333; color:#212121}#wpadminbar:not(.mobile)>#wp-toolbar a:focus span.ab-label,#wpadminbar:not(.mobile)>#wp-toolbar li:hover span.ab-label,#wpadminbar>#wp-toolbar li.hover span.ab-label, #wpadminbar.mobile .quicklinks .hover .ab-icon:before,#wpadminbar.mobile .quicklinks .hover .ab-item:before, #wpadminbar .quicklinks .menupop .ab-sub-secondary>li .ab-item:focus a,#wpadminbar .quicklinks .menupop .ab-sub-secondary>li>a:hover {color:#212121}#wpadminbar .quicklinks .ab-sub-wrapper .menupop.hover>a,#wpadminbar .quicklinks .menupop ul li a:focus,#wpadminbar .quicklinks .menupop ul li a:focus strong,#wpadminbar .quicklinks .menupop ul li a:hover,#wpadminbar .quicklinks .menupop ul li a:hover strong,#wpadminbar .quicklinks .menupop.hover ul li a:focus,#wpadminbar .quicklinks .menupop.hover ul li a:hover,#wpadminbar li #adminbarsearch.adminbar-focused:before,#wpadminbar li .ab-item:focus:before,#wpadminbar li a:focus .ab-icon:before,#wpadminbar li.hover .ab-icon:before,#wpadminbar li.hover .ab-item:before,#wpadminbar li:hover #adminbarsearch:before,#wpadminbar li:hover .ab-icon:before,#wpadminbar li:hover .ab-item:before,#wpadminbar.nojs .quicklinks .menupop:hover ul li a:focus,#wpadminbar.nojs .quicklinks .menupop:hover ul li a:hover, #wpadminbar .quicklinks .ab-sub-wrapper .menupop.hover>a .blavatar,#wpadminbar .quicklinks li a:focus .blavatar,#wpadminbar .quicklinks li a:hover .blavatar{color:#212121}#wpadminbar .menupop .ab-sub-wrapper, #wpadminbar .shortlink-input {background:#dd3333}#wpadminbar .ab-submenu .ab-item, #wpadminbar .quicklinks .menupop ul.ab-submenu li a,#wpadminbar .quicklinks .menupop ul.ab-submenu li a.ab-item {color:#ffffff}#wpadminbar .ab-submenu .ab-item:hover, #wpadminbar .quicklinks .menupop ul.ab-submenu li a:hover,#wpadminbar .quicklinks .menupop ul.ab-submenu li a.ab-item:hover {color:#000000}.quicklinks li.wpshapere_site_title a{ outline:none; border:none;}.quicklinks li.wpshapere_site_title {width:180px !important;margin-top:-px !important;margin-top:px !important;}.quicklinks li.wpshapere_site_title a{outline:none; border:none;}.quicklinks li.wpshapere_site_title a, .quicklinks li.wpshapere_site_title a:hover, .quicklinks li.wpshapere_site_title a:focus {background:url(https://dantestrattoria.com/wp-content/uploads/2020/10/logo-ragettis-admin-bar.png) 55px px no-repeat !important; text-indent:-9999px !important; width:auto;background-size:40%!important;}</style>    </head>
<style>

    :root {
        --primary-button-color: #000000;
    }
    
    .btn.btn-primary {
        background-color: #000000 !important;
        border-color: #000000 !important;
        font-weight: bold;
    }
    
    .btn.btn-primary:hover {
        background-color: #000000 !important;
        color: #fff !important;
        opacity: 0.8;
    }
    
    .btn.btn-outline-primary {
        color: #000000 !important;
        border-color: #000000 !important;
        font-weight: bold;
    }
    
    .btn.btn-outline-primary:hover {
        color: #fff;
        background-color: #000000 !important;
        border-color: #000000 !important;
    }
    
    .close-handheld-nav {
        background: transparent !important;
        padding-left: 0 !important;
    }
    
    #masthead button.menu-toggle {
        background-color: #FFF !important;
        border-radius: 3px;
        padding: 5px 12px;
    
        .po-menu-icon {
            font-size: 18px;
            color: #000;
        }
    }
    
    header#masthead.site-header.header-2024,
    header#masthead.site-header.header-2024 .site-header-wrap.stuck {
                    background-color: #000000 !important;
            }
    
    .main-navigation .main-nav ul:not(.dropdown-menu) li a {
        color: #ffffff !important;
    }
    
    .header-button-order {
        background-color: #000000 !important;
        border-color: #000000 !important;
        color: #fff !important;
        font-weight: 700 !important;
        display: flex;
        gap: .25rem;
        align-items: start;
    
        svg path {
            fill: #fff !important;
        }
    }
    
    .header-button-order:hover {
        background-color: #000000 !important;
        border-color: #000000 !important;
        color: #fff !important;
        opacity: 0.8 !important;
    }
    
</style>

<body class="archive post-type-archive post-type-archive-product wp-custom-logo wp-theme-pizzaro wp-child-theme-restaurants-20 theme-pizzaro kc-css-system woocommerce-shop woocommerce woocommerce-page woocommerce-no-js ally-default left-sidebar woocommerce-active lite list-view columns-2">
    
    <div id="page" class="hfeed site">
        
    	    
    	    
    	<header id="masthead" class="site-header header-v1 header-2024 " role="banner" style="background-image: none; ">
    		<div class="site-header-wrap">
                <div class="col-full">
    
                                            <div class="pizzaro-secondary-navigation" style="background-color: #000000">
                                                        <div class="d-flex space-between items-center">
                                
                                <div class="d-flex items-center">
                                    <svg class="store-status-symbol" width="79" height="47" viewBox="0 0 73 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M28.9954 7.07505C24.763 7.07505 17.1968 5.6913 13.2251 7.82987C11.3988 8.81328 9.33697 9.46551 7.67186 10.7143C6.99634 11.221 4.99443 12.8337 4.76043 13.6527C4.52489 14.4771 3.54973 16.1893 3.03513 16.8068C2.05246 17.986 1.82204 22.0457 1.82204 23.5462C1.82204 25.8637 1.59061 29.9416 4.03257 31.337C6.56682 32.7851 8.23068 35.0525 11.2842 35.7311C14.9924 36.5551 18.7862 38.6156 22.6873 38.6156C26.9289 38.6156 31.2072 39.1008 35.5192 39.1008C39.1583 39.1008 43.8664 39.4116 47.2188 37.8877C48.5687 37.2741 50.8076 36.8225 52.2869 36.6746C53.3223 36.5711 56.7723 36.1918 57.5167 35.5963C58.6531 34.6871 60.4763 34.6278 61.8838 34.1406C63.5798 33.5535 65.0614 32.5742 66.7362 31.9301C68.8019 31.1356 71.2112 27.2156 71.2112 25.0289C71.2112 20.9322 70.7286 17.3925 69.3781 13.491C68.0678 9.70589 64.7711 7.23865 61.6142 5.1341C59.7293 3.87745 57.7017 3.44984 55.6835 2.60007C54.0429 1.90927 51.9452 2.30298 50.3459 1.6296C48.0494 0.662633 44.6171 1.25219 42.0969 1.25219C38.0532 1.25219 34.0095 1.25219 29.9659 1.25219" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
                                        <text class="top_bar_store-status" x="16" y="26" font-weight="600" font-family="Open Sans" font-size="11" fill="#ffffff">
                                            Closed                                        </text>
                                    </svg>
                                                                            <div class="header-hours" style="color: #ffffff;margin-left:10px">
                                            11:00 AM - 10:00 PM                                        </div>
                                                                    </div>
    
                                                                    <div class="header-address" style="color: #ffffff">
                                        <a href="https://www.google.com/maps/search/?api=1&query=135+US-6%2C++Mahopac%2C+NY+10541" target="_blank" style="color: #ffffff">
                                            135 US-6,  Mahopac, NY 10541                                        </a>
                                    </div>
                                    
                            </div>
                        </div>
                        
                    <div class="bottom-header" style="position:relative">
                        <div class="d-flex items-center">
                            <button class="menu-toggle" aria-controls="site-navigation" aria-expanded="false">
                                <span class="close-icon">
                                    <i class="po po-close-delete"></i>
                                </span>
                                <span class="menu-icon">
                                    <i class="po po-menu-icon"></i>
                                </span>
                                <span class="screen-reader-text">
                                    Menu                                </span>
                            </button>
                            <div>
                                <a href="https://dantestrattoria.com/" class="custom-logo-link" rel="home"><img width="110" height="110" src="https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated.jpg" class="custom-logo" alt="Dante&#8217;s Trattoria" decoding="async" srcset="https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated.jpg 110w, https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated-100x100.jpg 100w" sizes="(max-width: 110px) 100vw, 110px" /></a>                            </div>
                            <nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Navigation">
                                <div class="main-nav">
                                    <ul id="menu-main-menu" class="menu"><li id="menu-item-617" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item menu-item-617"><a href="https://dantestrattoria.com/shop/">Order Online</a></li><li id="menu-item-8399" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children menu-item-8399 dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="https://dantestrattoria.com/product-category/catering/">Catering <b class="caret"></b></a><ul class="dropdown-menu"><li id="menu-item-8103" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8103"><a href="https://dantestrattoria.com/product-category/catering-entrees/">CATERING ENTREES</a></li><li id="menu-item-8104" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8104"><a href="https://dantestrattoria.com/product-category/catering-focaccia-strombolis-and-rolls/">CATERING FOCACCIA STROMBOLIS AND ROLLS</a></li><li id="menu-item-8105" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8105"><a href="https://dantestrattoria.com/product-category/catering-pasta-dishes/">CATERING PASTA DISHES</a></li><li id="menu-item-8106" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8106"><a href="https://dantestrattoria.com/product-category/catering-wedges/">CATERING WEDGES</a></li></ul></li></ul>                                </div>
                                <div class="handheld-navigation" aria-live="polite">
                                    <button class="close-handheld-nav">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                            <path fill="#FFF" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                                        </svg>
                                        <span>Close</span>
                                    </button>
                                    <ul id="menu-main-menu-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item menu-item-617"><a href="https://dantestrattoria.com/shop/" aria-current="page">Order Online</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children menu-item-8399"><a href="https://dantestrattoria.com/product-category/catering/">Catering</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8103"><a href="https://dantestrattoria.com/product-category/catering-entrees/">CATERING ENTREES</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8104"><a href="https://dantestrattoria.com/product-category/catering-focaccia-strombolis-and-rolls/">CATERING FOCACCIA STROMBOLIS AND ROLLS</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8105"><a href="https://dantestrattoria.com/product-category/catering-pasta-dishes/">CATERING PASTA DISHES</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-8106"><a href="https://dantestrattoria.com/product-category/catering-wedges/">CATERING WEDGES</a></li>
</ul>
</li>
</ul>                                    <a href="tel:845-621-9654" class="btn btn-primary handheld-navigation-phone">Call Us</a>
                                </div>
                            </nav>
                        </div>
                        <div class="header-info-wrapper">
                                                        <div class="d-flex" style="gap:1rem">
                                <a class="header-button-order btn" href="/shop?showcart=true">
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="#000000" d="M6 16C4.9 16 4.01 16.9 4.01 18C4.01 19.1 4.9 20 6 20C7.1 20 8 19.1 8 18C8 16.9 7.1 16 6 16ZM0 0V2H2L5.6 9.59L4.25 12.04C4.09 12.32 4 12.65 4 13C4 14.1 4.9 15 6 15H18V13H6.42C6.28 13 6.17 12.89 6.17 12.75L6.2 12.63L7.1 11H14.55C15.3 11 15.96 10.59 16.3 9.97L19.88 3.48C19.96 3.34 20 3.17 20 3C20 2.45 19.55 2 19 2H4.21L3.27 0H0ZM16 16C14.9 16 14.01 16.9 14.01 18C14.01 19.1 14.9 20 16 20C17.1 20 18 19.1 18 18C18 16.9 17.1 16 16 16Z"/>
                                    </svg>
                                    <span></span>Cart &middot; <span class="cart-count">0</span>
                                </a>
                                <a class="header-button-order btn" href="/shop">Order Now</a>
                                                            </div>
                        </div>
                    </div>
    		    </div>
    		</div>
    	</header>
    
        <a class="header-button btn btn-primary fixed-button" href="/shop">Order Now</a>
    
    	<div id="content" class="site-content" tabindex="-1" >

<script>
var highlightColor = '#000000'; 
var timezoneString = 'America/New_York'; 
var showFeaturedItems = 'no'; 
var featuredItemsName = 'Featured Items'; 
var themeUrl = 'https://dantestrattoria.com/wp-content/themes/restaurants-20'; 
</script>
<script>

(() => {
    const searchParams = new URLSearchParams(location.search);
    const rwgToken = searchParams.get('rwg_token');
    if (rwgToken !== null) {
        document.cookie = "_rwg_token=" + encodeURIComponent(rwgToken) + ";max-age=2592000;domain=" + encodeURIComponent(location.hostname) + ";path=/";
    }
})();

</script>

<div class="col-full">
	<!-- Vue app -->
	<div class="vue-app-container">
		<div id="vue-app" class="hide">
		
			<el-container
				v-loading="loading"
				element-loading-text="Loading menu..."
				:class="[
					loading ? 'menu-container-loading' : '',
					'layout-' + layout.gridColumns
				]"
			>
				
				<template v-if="getCategoriesPosition()=='on-left'">
					<!-- vertical menu -->
					<sidebar-menu
						v-if="!loading && menuMode === 'vertical'"
						@select-menu="handleMenuSelect"
						@select-menu-item="selectSidebarItem"
						:selected-menu="selectedMenu"
						:menus="menus"
						:active-menu="activeMenu"
						menu-mode="vertical"
						:store-hours="storeHours"
						:key="sidebarKey"
					/>
				</template>
				
				<!-- horizontal menu -->
				<sidebar-menu
					v-if="!loading && menuMode === 'horizontal'"
					@select-menu="handleMenuSelect"
					@select-menu-item="selectSidebarItem"
					@show-cart="handleShowCart"
					:selected-menu="selectedMenu"
					:menus="menus"
					:active-menu="activeMenu"
					:cart="cart"
					:cart-items-count="cartItemsCount"
					:cart-totals="cartTotals"
					menu-mode="horizontal"
					:store-hours="storeHours"
					:key="sidebarKey"
				></sidebar-menu>

				<el-container class="main-container">
					<el-main>
						<el-header>
							<el-input
								v-model="searchTerm"
								size="default"
								placeholder="Search items"
								@input="searchKey++"
								>
								<template #suffix>
									<i class="fa-regular fa-magnifying-glass" v-if="!searchTerm"></i>
									<el-link @click="this.searchTerm = ''" v-else>
										<i class="fa-regular fa-xmark"></i>
									</el-link>
								</template>
							</el-input>
							<el-select
								v-model="selectedDietaryOptions"
								placeholder="Dietary Options"
								class="dietary-options-select"
								clearable
								collapse-tags
								:max-collapse-tags="1"
								multiple
							>
								<el-option
									v-for="dietaryOption in dietaryOptions"
									:key="dietaryOption.value"
									:label="dietaryOption.label"
									:value="dietaryOption.value"
								></el-option>
							</el-select>
							<div class="header-cart" v-if="menuMode === 'vertical'">
								<el-button @click="handleShowCart">
									<i class="fa-regular fa-cart-shopping"></i>
									<div>
										<span>{{ cartItemsCount }} {{ cartItemsCount === 1 ? 'item' : 'items' }}</span>&nbsp;
										<span class="bold">{{ cartTotals }}</span>
									</div>
								</el-button>
							</div>
						</el-header>

				       <el-row
							v-if="searchTerm || selectedDietaryOptions.length > 0"
				            class="category-products"
				            :gutter="20"
				        >
				            <el-col class="category-product" :xs="24" v-if="searchTerm || dietaryOptions.length > 0">
				                <h4 style="font-size: 2rem">
				                	{{ filteredItems.length }} {{ filteredItems.length === 1 ? 'item' : 'items' }} found
				                </h4>
				            </el-col>
				            <el-col 
				            	class="category-product" 
								:xs="getGridColumn('xs')"
								:md="getGridColumn('md')"
								:lg="getGridColumn('lg')"
				            	v-for="product in filteredItems" 
				            	:key="product.id"
								:class="[
									product.stock_status !== 'instock' ? 'hide' : '', 
									!hasVariationStock(product) ? 'hide' : '',
								]"
				            >
								
<div
	:class="product.featured_image ? 'has-image' : 'no-image'"
	class="product_card product_card-left-image three-columns"
	@click="openCartDialog( product )"
>

	<div 
		class="product_card-image" 
		v-if="product.featured_image" 
		:style="
			{ 
				backgroundImage:'url('+getImageVariation(product,'catalog')+')'
			}
		"
	>
	</div>
	
	<div class="product_card-details">
		
		<h4 class="product_card-title">
			{{ product.featured_image ? truncateString( product.name, 38 ) : truncateString( product.name, 50 ) }}
		</h4>

		<div class="product_card-attributes" v-if="product.is_alcohol_product || product.is_pickup_product">
			<div class="product_card-attributes-child" v-if="product.is_alcohol_product">
				<span class="product_card-attributes-title" >
					Alcohol / 21+
				</span>
			</div>
			<div class="product_card-attributes-child" v-if="product.is_pickup_product">
				<span class="product_card-attributes-title" >
					{{ pickUpOnlyText }}
				</span>
			</div>
		</div>

		<p class="product_card-description" v-if="product.short_description" v-html="product.featured_image ? truncateString( product.short_description, 120 ) : truncateString( product.short_description, 180 )"> </p>
		
		<div class="product_card-price">
			<div class="product_card-price-amount">
				<span>{{ showPrices( product ) }}</span>
				<div v-if="product.subscription && product.subscription._ywsbs_subscription === 'yes'" >
					<span class="subscription-indicator">Subscription</span>
				</div>
			</div>
			<el-button
				class="product_card-btn btn-highlight"
				:title="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				:aria-label="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				@click.stop="addToCartDialog( product )"
				:style="{ color: highlightColorText }"
				:loading="quickAddToCart == product.id"
			>
				<template #icon>
					<i class="fa-solid fa-plus" :style="{ color: highlightColorText }"></i>
				</template>
			</el-button>
		</div>
		
	</div>
</div>							</el-col>
				        </el-row>
       
						<el-row
							:id="`category-section-${ category.term_id}`"
							class="category-products"
							:data-cat-name="category.name"
							:gutter="20"
							v-for="category in selectedMenu.categories"
							:key="category.term_id"
							v-if="selectedMenu && !searchTerm && !selectedDietaryOptions.length"
						>

							<el-col :span="24">
								<div class="product_category_heading">
									<h3 class="product_category_heading-title">
										{{ category.name }}
									</h3>
									<div class="product_category_heading-description" v-if="category.description" v-html="category.description"></div>
								</div>
							</el-col>
							
							<el-col
								class="category-product"
								:xs="getGridColumn('xs')"
								:md="getGridColumn('md')"
								:lg="getGridColumn('lg')"
								v-for="product in category.products"
								:key="product.id"
								:class="[
									product.stock_status !== 'instock' ? 'hide' : '', 
									!hasVariationStock(product) ? 'hide' : '',
								]"
							>
								
<div
	:class="product.featured_image ? 'has-image' : 'no-image'"
	class="product_card product_card-left-image three-columns"
	@click="openCartDialog( product )"
>

	<div 
		class="product_card-image" 
		v-if="product.featured_image" 
		:style="
			{ 
				backgroundImage:'url('+getImageVariation(product,'catalog')+')'
			}
		"
	>
	</div>
	
	<div class="product_card-details">
		
		<h4 class="product_card-title">
			{{ product.featured_image ? truncateString( product.name, 38 ) : truncateString( product.name, 50 ) }}
		</h4>

		<div class="product_card-attributes" v-if="product.is_alcohol_product || product.is_pickup_product">
			<div class="product_card-attributes-child" v-if="product.is_alcohol_product">
				<span class="product_card-attributes-title" >
					Alcohol / 21+
				</span>
			</div>
			<div class="product_card-attributes-child" v-if="product.is_pickup_product">
				<span class="product_card-attributes-title" >
					{{ pickUpOnlyText }}
				</span>
			</div>
		</div>

		<p class="product_card-description" v-if="product.short_description" v-html="product.featured_image ? truncateString( product.short_description, 120 ) : truncateString( product.short_description, 180 )"> </p>
		
		<div class="product_card-price">
			<div class="product_card-price-amount">
				<span>{{ showPrices( product ) }}</span>
				<div v-if="product.subscription && product.subscription._ywsbs_subscription === 'yes'" >
					<span class="subscription-indicator">Subscription</span>
				</div>
			</div>
			<el-button
				class="product_card-btn btn-highlight"
				:title="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				:aria-label="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				@click.stop="addToCartDialog( product )"
				:style="{ color: highlightColorText }"
				:loading="quickAddToCart == product.id"
			>
				<template #icon>
					<i class="fa-solid fa-plus" :style="{ color: highlightColorText }"></i>
				</template>
			</el-button>
		</div>
		
	</div>
</div>							</el-col>
						</el-row>
						
					</el-main>
				</el-container>
				
				<template v-if="getCategoriesPosition()=='on-right'">
					<!-- vertical menu -->
					<sidebar-menu
						v-if="!loading && menuMode === 'vertical'"
						@select-menu="handleMenuSelect"
						@select-menu-item="selectSidebarItem"
						:selected-menu="selectedMenu"
						:menus="menus"
						:active-menu="activeMenu"
						menu-mode="vertical"
						:store-hours="storeHours"
						:key="sidebarKey"
					/>
				</template>	

				<!-- Cross-sell modal -->
				<el-dialog
					class="cross_sells_dialog"
					v-model="crossSells.dialog" 
					title="Recommended for You" 
					:show-close="false"
					@close="onCrossSellDialogClose"
					@open="calculateHeight('crossSellDialog')"
					lock-scroll="true"
					center
				>
					<template #header="{ close, titleId, titleClass }">
						<div class="cross_sells_dialog-header">
							<h2 :id="titleId" :class="titleClass">Recommended for You</h2>
							<p>Complete your experience with these perfect pairings!</p>
						</div>
					</template>
					<el-carousel
						trigger="click" 
						interval="10000" 
						indicator-position="outside"
						arrow="never"
					>
						<el-carousel-item v-for="item in crossSells.products" :key="item">
							<el-row :gutter="20">
								<el-col :span="12" :xs="24" v-for="product in item" :key="product.id">
								
<div
	:class="product.featured_image ? 'has-image' : 'no-image'"
	class="product_card product_card-left-image three-columns"
	@click="openCartDialog( product )"
>

	<div 
		class="product_card-image" 
		v-if="product.featured_image" 
		:style="
			{ 
				backgroundImage:'url('+getImageVariation(product,'catalog')+')'
			}
		"
	>
	</div>
	
	<div class="product_card-details">
		
		<h4 class="product_card-title">
			{{ product.featured_image ? truncateString( product.name, 38 ) : truncateString( product.name, 50 ) }}
		</h4>

		<div class="product_card-attributes" v-if="product.is_alcohol_product || product.is_pickup_product">
			<div class="product_card-attributes-child" v-if="product.is_alcohol_product">
				<span class="product_card-attributes-title" >
					Alcohol / 21+
				</span>
			</div>
			<div class="product_card-attributes-child" v-if="product.is_pickup_product">
				<span class="product_card-attributes-title" >
					{{ pickUpOnlyText }}
				</span>
			</div>
		</div>

		<p class="product_card-description" v-if="product.short_description" v-html="product.featured_image ? truncateString( product.short_description, 120 ) : truncateString( product.short_description, 180 )"> </p>
		
		<div class="product_card-price">
			<div class="product_card-price-amount">
				<span>{{ showPrices( product ) }}</span>
				<div v-if="product.subscription && product.subscription._ywsbs_subscription === 'yes'" >
					<span class="subscription-indicator">Subscription</span>
				</div>
			</div>
			<el-button
				class="product_card-btn btn-highlight"
				:title="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				:aria-label="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				@click.stop="addToCartDialog( product )"
				:style="{ color: highlightColorText }"
				:loading="quickAddToCart == product.id"
			>
				<template #icon>
					<i class="fa-solid fa-plus" :style="{ color: highlightColorText }"></i>
				</template>
			</el-button>
		</div>
		
	</div>
</div>								</el-col>
							</el-row>
						</el-carousel-item>
					</el-carousel>
				    <template #footer>
						<div class="dialog-footer">
							<el-button
								type="primary"
								class="btn-highlight"
								size="large"
								round
								@click="crossSells.dialog = false"
								:style="{ color: highlightColorText }"
							>
								Proceed to Shopping Cart
							</el-button>
						</div>
				    </template>
				</el-dialog>

				<!-- Upsell modal -->
				<el-dialog
					custom-class="upsell-dialog"
					v-model="upsellDialogVisible"
					:show-close="false"
					@open="calculateHeight('upsellDialog')"
					lock-scroll="true"
					center
				>
					<template #header="{ close, titleId, titleClass }">
						<div class="upsell-dialog_header">
							<h4 class="upsell-dialog_title heading">
								{{upsells.name || 'Make your order extra special!'}}
							</h4>
							<p>{{upsells.description || 'Enhance Your Experience with Exclusive Add-Ons!'}}</p>
						</div>
					</template>
					<template v-for="product in getUpsellItems(upsellItems)" :key="product.id">
						
<div
	:class="product.featured_image ? 'has-image' : 'no-image'"
	class="product_card product_card-left-image three-columns"
	@click="openCartDialog( product )"
>

	<div 
		class="product_card-image" 
		v-if="product.featured_image" 
		:style="
			{ 
				backgroundImage:'url('+getImageVariation(product,'catalog')+')'
			}
		"
	>
	</div>
	
	<div class="product_card-details">
		
		<h4 class="product_card-title">
			{{ product.featured_image ? truncateString( product.name, 38 ) : truncateString( product.name, 50 ) }}
		</h4>

		<div class="product_card-attributes" v-if="product.is_alcohol_product || product.is_pickup_product">
			<div class="product_card-attributes-child" v-if="product.is_alcohol_product">
				<span class="product_card-attributes-title" >
					Alcohol / 21+
				</span>
			</div>
			<div class="product_card-attributes-child" v-if="product.is_pickup_product">
				<span class="product_card-attributes-title" >
					{{ pickUpOnlyText }}
				</span>
			</div>
		</div>

		<p class="product_card-description" v-if="product.short_description" v-html="product.featured_image ? truncateString( product.short_description, 120 ) : truncateString( product.short_description, 180 )"> </p>
		
		<div class="product_card-price">
			<div class="product_card-price-amount">
				<span>{{ showPrices( product ) }}</span>
				<div v-if="product.subscription && product.subscription._ywsbs_subscription === 'yes'" >
					<span class="subscription-indicator">Subscription</span>
				</div>
			</div>
			<el-button
				class="product_card-btn btn-highlight"
				:title="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				:aria-label="'Add ' + decodeHTMLEntities( product.name ) + ' to cart'"
				@click.stop="addToCartDialog( product )"
				:style="{ color: highlightColorText }"
				:loading="quickAddToCart == product.id"
			>
				<template #icon>
					<i class="fa-solid fa-plus" :style="{ color: highlightColorText }"></i>
				</template>
			</el-button>
		</div>
		
	</div>
</div>					</template>
					<template #footer>
						<div class="dialog-footer text-center">
							<el-button
								type="primary"
								class="btn-highlight"
								round
								size="large"
								@click="continueToCheckout"
								:style="{ color: highlightColorText }"
							>
								CONTINUE TO CHECKOUT
							</el-button>
						</div>
					</template>
				</el-dialog>
				
				

<!-- Product modal -->
<el-dialog
	custom-class="product-dialog"
	ref="productDialog"
	v-model="productDialogVisible" 
	@open="calculateHeight('productDialog')"
	@closed="clearActiveModifiers"
>
	
    <template #header="{ close, titleId, titleClass }">
    	
		<div v-if="!activeProduct.is_pizza_product">
			<img
				class="product-dialog__image"
				:src="deviceInformation.type === 'desktop' ? getImageVariation(activeProduct,'dialog') : getImageVariation(activeProduct,'dialog-mobile')"
				:alt="decodeHTMLEntities( activeProduct.name )"
				v-if="activeProduct.featured_image"
			>
		</div>
		
		<!-- Pizza builder images -->
		<div v-else class="pizza-builder">
			<!-- crust -->
			<div class="pizza-builder__crust" v-if="pizzaBuilder.Crust.length">
				<div
					v-for="crust in pizzaBuilder.Crust"
					:key="crust"
					:class="crust.half ? crust.half + '-half' : ''"
				>
					<img :src="gallery.base_url + crust.imageURL" alt="pizza crust">
				</div>
			</div>
			<!-- sauce -->
			<div class="pizza-builder__sauce" v-if="pizzaBuilder.Sauce.length">
				<div
					v-for="sauce in pizzaBuilder.Sauce"
					:key="sauce"
					:class="sauce.half ? sauce.half + '-half' : ''"
				>
					<img :src="gallery.base_url + sauce.imageURL" alt="pizza sauce">
				</div>
			</div>
			<!-- cheese -->
			<div class="pizza-builder__cheese" v-if="pizzaBuilder.Cheese.length">
				<div
					v-for="cheese in pizzaBuilder.Cheese"
					:key="cheese"
					:class="cheese.half ? cheese.half + '-half' : ''"
				>
					<img :src="gallery.base_url + cheese.imageURL" alt="pizza cheese">
				</div>
			</div>
			<!-- toppings -->
			<div class="pizza-builder__toppings" v-if="pizzaBuilder.Toppings.length">
				<div
					v-for="topping in pizzaBuilder.Toppings"
					:key="topping"
					:class="topping.half ? topping.half + '-half' : ''"
				>
					<img :src="gallery.base_url + topping.imageURL" alt="pizza topping">
				</div>
			</div>
		</div>
		
		<div class="product-dialog__meta">
			<h5 class="heading">{{ decodeHTMLEntities( activeProduct.name ) }}</h5>
			<p v-if="activeProduct.short_description" v-html="decodeHTMLEntities( activeProduct.short_description )"></p>
		</div>
		
    </template>

	<!-- add to cart form -->
	<el-form :model="cartForm" ref="cartForm" label-position="top" class="product-dialog__form">
		
		<template v-if="activeProduct.is_gift_card">
			
			<el-form-item label="Receiver's Email">
				<div class="mb-0 errors" v-if="cartFormErrors.wc_gc_giftcard_to&&cartFormErrors.wc_gc_giftcard_to.hasError" style="width:100%">
					<div class="error-message" aria-live="assertive">
						{{cartFormErrors.wc_gc_giftcard_to.error}}
					</div>
				</div>
				<el-input
					v-model="cartForm.gift_card.wc_gc_giftcard_to" 
					size="large"
					placeholder="e.g. friend@example.com"
				/>
			</el-form-item>

			<el-form-item label="Your Name">
				<div class="mb-0 errors" v-if="cartFormErrors.wc_gc_giftcard_from&&cartFormErrors.wc_gc_giftcard_from.hasError" style="width:100%">
					<div class="error-message" aria-live="assertive">
						{{cartFormErrors.wc_gc_giftcard_from.error}}
					</div>
				</div>
				<el-input
					v-model="cartForm.gift_card.wc_gc_giftcard_from"
					size="large"
					placeholder="e.g. John Doe"
				/>
			</el-form-item>
		
			<el-form-item label="Note">
				<el-input
					v-model="cartForm.gift_card.wc_gc_giftcard_message"
					:rows="5"
					type="textarea"
					maxlength="200"
					show-word-limit="true"
					placeholder="Write a message to make it extra special..."
				/>
			</el-form-item>

		</template>
		
		<template v-else>
			
			<template v-if="!activeProduct.show_modifier_upsells">
				
				<div class="product-dialog__dietary" v-if="activeProduct.dietary_options.length">
					<template v-for="option in activeProduct.dietary_options">
						<img :src="`${themeUrl}/images/${option}.svg`" :alt="option" width="25" :title="option" />
					</template>
					<el-popover placement="bottom" :width="300" popper-style="z-index:99999999;" :hide-after="1">
						<template #reference>
							<el-button text aria-label="view dietary icon meanings" class="dietary-help-btn">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16">
									<path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>
								</svg>
							</el-button>
						</template>
						<div class="dietary-options__tooltip">
							<h4>Dietary Guidelines</h4>
							<ul>
								<li v-for="option in activeProduct.dietary_options">
									<img :src="`${themeUrl}/images/${option}.svg`" :alt="option.split('_').join(' ')" width="25" :title="option.split('_').join(' ')" />
									{{ option.split('_').join(' ') }}
								</li>
							</ul>
						</div>
					</el-popover>
				</div>
				
				<div class="product-dialog__variations" v-if="activeProduct.variations.length">
					<el-form-item label="Select one">
						<el-radio-group
							size="default"
							v-model="cartForm.menu_item_data.variation_id"
							@change="handleVariationChange( cartForm.menu_item_data.variation_id )"
						>
							<template v-for="variation in activeProduct.variations">
								<el-radio-button 
									v-if="variation.stock_status === 'instock'" 
									:key="variation.variation_id" 
									:label="variation.variation_id"
								>
									{{ variation.variation_name }}<br/>
									{{ calculatePrice(variation.variation_price) }}
								</el-radio-button>
							</template>
						</el-radio-group>
					</el-form-item>
				</div>
				
			</template>
			
			<template v-else>
				
				<div class="alert alert-warning" role="alert">
					<h4>Before you complete your order!</h4>
					<p>Take a look at our carefully selected Modifiers, designed to perfectly complement your meal and enhance your dining experience.</p>
				</div>
				
			</template>
			
			<div class="product-dialog__modifiers" v-if="activeProduct.modifiers_groups_ids.length">
				<template v-for="( modifier, index ) in getModifiers()" >
					
					<el-form-item
						v-if="!activeProduct.show_modifier_upsells^(activeProduct.show_modifier_upsells&&modifier.has_upsells)"
						:key="modifier.modifier_id"
						:class="[
							( modifier.shown ? '' : 'hide' ),
							( cartFormErrors[ modifier.modifier_id ] && cartFormErrors[ modifier.modifier_id ].hasError ? 'has-error' : '' ),
							( 'modifier-'+modifier.modifier_id )
						]"
					>
						
						<div class="product-dialog__modifiers__title">
							<h4>{{modifier.modifier_name}}</h4>
							<div v-html="getModifierInstruction(modifier.modifier_attributes.max_selected,modifier.modifier_attributes.min_selected)" class="mb-1"></div>
							<div class="mb-1 errors" v-if="cartFormErrors[ modifier.modifier_id ] && cartFormErrors[ modifier.modifier_id ].hasError" style="width:100%">
								<div class="error-message" v-for="error in cartFormErrors[ modifier.modifier_id ].errors" aria-live="assertive">
									{{ error }}
								</div>
							</div>
						</div>
						
						<!-- Pizza toppings modifier group -->
						<div class="pizza-toppings" v-if="modifier.modifier_attributes.is_toppings_group">
							<template
								v-for="option in modifier.modifier_options"
								:key="option.option_id"
							>
								<div 
									class="topping-separator"
									v-if="!activeProduct.show_modifier_upsells^(activeProduct.show_modifier_upsells&&option.option_attributes.is_upsell)" 
									:class="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] !== 'none' ? 'selected' : ''"
								>
									<el-col :span="24" class="topping">
										<el-radio-group
											size="default"
											v-model="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ]"
											@change="handleModifierCheck( $event, modifier, false, option.option_id ), modifierState( $event, modifier, option )"
											:disabled="option.disabled"
										>
											<el-radio
												label="none"
												class="topping-none"
											>
												<svg id="none" width="30" height="42" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg" role="img">
													<title>None</title>
													<circle cx="15" cy="15" r="15" fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'none'" />
													<circle cx="15" cy="15" r="15" fill="#DDDDDD" v-else />
													<circle cx="15" cy="15" r="11" fill="white" />
													<path d="M7.72461 41H6.81461L3.15461 35.45V41H2.24461V34.02H3.15461L6.81461 39.56V34.02H7.72461V41ZM12.4359 41.07C11.7892 41.07 11.1992 40.92 10.6659 40.62C10.1325 40.3133 9.70919 39.89 9.39586 39.35C9.08919 38.8033 8.93586 38.19 8.93586 37.51C8.93586 36.83 9.08919 36.22 9.39586 35.68C9.70919 35.1333 10.1325 34.71 10.6659 34.41C11.1992 34.1033 11.7892 33.95 12.4359 33.95C13.0892 33.95 13.6825 34.1033 14.2159 34.41C14.7492 34.71 15.1692 35.13 15.4759 35.67C15.7825 36.21 15.9359 36.8233 15.9359 37.51C15.9359 38.1967 15.7825 38.81 15.4759 39.35C15.1692 39.89 14.7492 40.3133 14.2159 40.62C13.6825 40.92 13.0892 41.07 12.4359 41.07ZM12.4359 40.28C12.9225 40.28 13.3592 40.1667 13.7459 39.94C14.1392 39.7133 14.4459 39.39 14.6659 38.97C14.8925 38.55 15.0059 38.0633 15.0059 37.51C15.0059 36.95 14.8925 36.4633 14.6659 36.05C14.4459 35.63 14.1425 35.3067 13.7559 35.08C13.3692 34.8533 12.9292 34.74 12.4359 34.74C11.9425 34.74 11.5025 34.8533 11.1159 35.08C10.7292 35.3067 10.4225 35.63 10.1959 36.05C9.97586 36.4633 9.86586 36.95 9.86586 37.51C9.86586 38.0633 9.97586 38.55 10.1959 38.97C10.4225 39.39 10.7292 39.7133 11.1159 39.94C11.5092 40.1667 11.9492 40.28 12.4359 40.28ZM22.6172 41H21.7072L18.0472 35.45V41H17.1372V34.02H18.0472L21.7072 39.56V34.02H22.6172V41ZM25.0784 34.77V37.1H27.6184V37.85H25.0784V40.25H27.9184V41H24.1684V34.02H27.9184V34.77H25.0784Z" fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'none'" />
													<path d="M7.72461 41H6.81461L3.15461 35.45V41H2.24461V34.02H3.15461L6.81461 39.56V34.02H7.72461V41ZM12.4359 41.07C11.7892 41.07 11.1992 40.92 10.6659 40.62C10.1325 40.3133 9.70919 39.89 9.39586 39.35C9.08919 38.8033 8.93586 38.19 8.93586 37.51C8.93586 36.83 9.08919 36.22 9.39586 35.68C9.70919 35.1333 10.1325 34.71 10.6659 34.41C11.1992 34.1033 11.7892 33.95 12.4359 33.95C13.0892 33.95 13.6825 34.1033 14.2159 34.41C14.7492 34.71 15.1692 35.13 15.4759 35.67C15.7825 36.21 15.9359 36.8233 15.9359 37.51C15.9359 38.1967 15.7825 38.81 15.4759 39.35C15.1692 39.89 14.7492 40.3133 14.2159 40.62C13.6825 40.92 13.0892 41.07 12.4359 41.07ZM12.4359 40.28C12.9225 40.28 13.3592 40.1667 13.7459 39.94C14.1392 39.7133 14.4459 39.39 14.6659 38.97C14.8925 38.55 15.0059 38.0633 15.0059 37.51C15.0059 36.95 14.8925 36.4633 14.6659 36.05C14.4459 35.63 14.1425 35.3067 13.7559 35.08C13.3692 34.8533 12.9292 34.74 12.4359 34.74C11.9425 34.74 11.5025 34.8533 11.1159 35.08C10.7292 35.3067 10.4225 35.63 10.1959 36.05C9.97586 36.4633 9.86586 36.95 9.86586 37.51C9.86586 38.0633 9.97586 38.55 10.1959 38.97C10.4225 39.39 10.7292 39.7133 11.1159 39.94C11.5092 40.1667 11.9492 40.28 12.4359 40.28ZM22.6172 41H21.7072L18.0472 35.45V41H17.1372V34.02H18.0472L21.7072 39.56V34.02H22.6172V41ZM25.0784 34.77V37.1H27.6184V37.85H25.0784V40.25H27.9184V41H24.1684V34.02H27.9184V34.77H25.0784Z" fill="#727272" v-else />
												</svg>
											</el-radio>
											<el-radio
												label="left" v-if="option.option_attributes.has_left_right"
												class="topping-left"
											>
												<svg id="left" width="30" height="41" viewBox="0 0 30 41" fill="none" xmlns="http://www.w3.org/2000/svg">
													<title>Left Side</title>
													<circle cx="15" cy="15" r="15"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'left'" />
													<circle cx="15" cy="15" r="15" fill="#DDDDDD" v-else />
													<path d="M15 15C15 15 15 14.5769 15 26C21.0751 26 26 21.0751 26 15C26 8.92487 21.0751 4 15 4C15 9.07692 15 15 15 15Z" fill="white" />
													<path d="M6.73371 40.26H9.17371V41H5.82371V34.03H6.73371V40.26ZM11.0501 34.77V37.1H13.5901V37.85H11.0501V40.25H13.8901V41H10.1401V34.02H13.8901V34.77H11.0501ZM19.2071 34.03V34.77H16.1771V37.12H18.6371V37.86H16.1771V41H15.2671V34.03H19.2071ZM24.5961 34.03V34.77H22.6961V41H21.7861V34.77H19.8761V34.03H24.5961Z"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'left'" />
													<path d="M6.73371 40.26H9.17371V41H5.82371V34.03H6.73371V40.26ZM11.0501 34.77V37.1H13.5901V37.85H11.0501V40.25H13.8901V41H10.1401V34.02H13.8901V34.77H11.0501ZM19.2071 34.03V34.77H16.1771V37.12H18.6371V37.86H16.1771V41H15.2671V34.03H19.2071ZM24.5961 34.03V34.77H22.6961V41H21.7861V34.77H19.8761V34.03H24.5961Z" fill="#727272" v-else />
												</svg>
											</el-radio>
											<el-radio
												label="right" v-if="option.option_attributes.has_left_right"
												class="topping-right"
											>
												<svg id="right" width="30" height="42" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg">
													<title>Right Side</title>
													<circle cx="15" cy="15" r="15"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'right'" />
													<circle cx="15" cy="15" r="15" fill="#DDDDDD" v-else />
													<path d="M15 15C15 15 15 14.5769 15 26C8.92487 26 4 21.0751 4 15C4 8.92487 8.92487 4 15 4C15 9.07692 15 15 15 15Z" fill="white"/>
													<path d="M5.60895 41L3.94895 38.15H2.84895V41H1.93895V34.03H4.18895C4.71561 34.03 5.15895 34.12 5.51895 34.3C5.88561 34.48 6.15895 34.7233 6.33895 35.03C6.51895 35.3367 6.60895 35.6867 6.60895 36.08C6.60895 36.56 6.46895 36.9833 6.18895 37.35C5.91561 37.7167 5.50228 37.96 4.94895 38.08L6.69895 41H5.60895ZM2.84895 37.42H4.18895C4.68228 37.42 5.05228 37.3 5.29895 37.06C5.54561 36.8133 5.66895 36.4867 5.66895 36.08C5.66895 35.6667 5.54561 35.3467 5.29895 35.12C5.05895 34.8933 4.68895 34.78 4.18895 34.78H2.84895V37.42ZM8.93293 34.03V41H8.02293V34.03H8.93293ZM15.7639 36.05C15.5705 35.6433 15.2905 35.33 14.9239 35.11C14.5572 34.8833 14.1305 34.77 13.6439 34.77C13.1572 34.77 12.7172 34.8833 12.3239 35.11C11.9372 35.33 11.6305 35.65 11.4039 36.07C11.1839 36.4833 11.0739 36.9633 11.0739 37.51C11.0739 38.0567 11.1839 38.5367 11.4039 38.95C11.6305 39.3633 11.9372 39.6833 12.3239 39.91C12.7172 40.13 13.1572 40.24 13.6439 40.24C14.3239 40.24 14.8839 40.0367 15.3239 39.63C15.7639 39.2233 16.0205 38.6733 16.0939 37.98H13.3139V37.24H17.0639V37.94C17.0105 38.5133 16.8305 39.04 16.5239 39.52C16.2172 39.9933 15.8139 40.37 15.3139 40.65C14.8139 40.9233 14.2572 41.06 13.6439 41.06C12.9972 41.06 12.4072 40.91 11.8739 40.61C11.3405 40.3033 10.9172 39.88 10.6039 39.34C10.2972 38.8 10.1439 38.19 10.1439 37.51C10.1439 36.83 10.2972 36.22 10.6039 35.68C10.9172 35.1333 11.3405 34.71 11.8739 34.41C12.4072 34.1033 12.9972 33.95 13.6439 33.95C14.3839 33.95 15.0372 34.1333 15.6039 34.5C16.1772 34.8667 16.5939 35.3833 16.8539 36.05H15.7639ZM23.6371 34.03V41H22.7271V37.84H19.1771V41H18.2671V34.03H19.1771V37.09H22.7271V34.03H23.6371ZM29.4809 34.03V34.77H27.5809V41H26.6709V34.77H24.7609V34.03H29.4809Z"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'right'" />
													<path d="M5.60895 41L3.94895 38.15H2.84895V41H1.93895V34.03H4.18895C4.71561 34.03 5.15895 34.12 5.51895 34.3C5.88561 34.48 6.15895 34.7233 6.33895 35.03C6.51895 35.3367 6.60895 35.6867 6.60895 36.08C6.60895 36.56 6.46895 36.9833 6.18895 37.35C5.91561 37.7167 5.50228 37.96 4.94895 38.08L6.69895 41H5.60895ZM2.84895 37.42H4.18895C4.68228 37.42 5.05228 37.3 5.29895 37.06C5.54561 36.8133 5.66895 36.4867 5.66895 36.08C5.66895 35.6667 5.54561 35.3467 5.29895 35.12C5.05895 34.8933 4.68895 34.78 4.18895 34.78H2.84895V37.42ZM8.93293 34.03V41H8.02293V34.03H8.93293ZM15.7639 36.05C15.5705 35.6433 15.2905 35.33 14.9239 35.11C14.5572 34.8833 14.1305 34.77 13.6439 34.77C13.1572 34.77 12.7172 34.8833 12.3239 35.11C11.9372 35.33 11.6305 35.65 11.4039 36.07C11.1839 36.4833 11.0739 36.9633 11.0739 37.51C11.0739 38.0567 11.1839 38.5367 11.4039 38.95C11.6305 39.3633 11.9372 39.6833 12.3239 39.91C12.7172 40.13 13.1572 40.24 13.6439 40.24C14.3239 40.24 14.8839 40.0367 15.3239 39.63C15.7639 39.2233 16.0205 38.6733 16.0939 37.98H13.3139V37.24H17.0639V37.94C17.0105 38.5133 16.8305 39.04 16.5239 39.52C16.2172 39.9933 15.8139 40.37 15.3139 40.65C14.8139 40.9233 14.2572 41.06 13.6439 41.06C12.9972 41.06 12.4072 40.91 11.8739 40.61C11.3405 40.3033 10.9172 39.88 10.6039 39.34C10.2972 38.8 10.1439 38.19 10.1439 37.51C10.1439 36.83 10.2972 36.22 10.6039 35.68C10.9172 35.1333 11.3405 34.71 11.8739 34.41C12.4072 34.1033 12.9972 33.95 13.6439 33.95C14.3839 33.95 15.0372 34.1333 15.6039 34.5C16.1772 34.8667 16.5939 35.3833 16.8539 36.05H15.7639ZM23.6371 34.03V41H22.7271V37.84H19.1771V41H18.2671V34.03H19.1771V37.09H22.7271V34.03H23.6371ZM29.4809 34.03V34.77H27.5809V41H26.6709V34.77H24.7609V34.03H29.4809Z" fill="#727272" v-else />
												</svg>
											</el-radio>
											<el-radio
												label="whole"
												class="topping-whole"
											>
												<svg id="whole" width="34" height="42" viewBox="0 0 34 42" fill="none" xmlns="http://www.w3.org/2000/svg">
													<title>Whole Pizza</title>
													<circle cx="17" cy="15" r="15"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'whole'" />
													<circle cx="17" cy="15" r="15" fill="#DDDDDD" v-else />
													<path d="M9.53781 34.03L7.51781 41H6.49781L4.87781 35.39L3.19781 41L2.18781 41.01L0.237813 34.03H1.20781L2.72781 39.94L4.40781 34.03H5.42781L7.02781 39.92L8.55781 34.03H9.53781ZM15.9037 34.03V41H14.9937V37.84H11.4437V41H10.5337V34.03H11.4437V37.09H14.9937V34.03H15.9037ZM20.6175 41.07C19.9708 41.07 19.3808 40.92 18.8475 40.62C18.3142 40.3133 17.8908 39.89 17.5775 39.35C17.2708 38.8033 17.1175 38.19 17.1175 37.51C17.1175 36.83 17.2708 36.22 17.5775 35.68C17.8908 35.1333 18.3142 34.71 18.8475 34.41C19.3808 34.1033 19.9708 33.95 20.6175 33.95C21.2708 33.95 21.8642 34.1033 22.3975 34.41C22.9308 34.71 23.3508 35.13 23.6575 35.67C23.9642 36.21 24.1175 36.8233 24.1175 37.51C24.1175 38.1967 23.9642 38.81 23.6575 39.35C23.3508 39.89 22.9308 40.3133 22.3975 40.62C21.8642 40.92 21.2708 41.07 20.6175 41.07ZM20.6175 40.28C21.1042 40.28 21.5408 40.1667 21.9275 39.94C22.3208 39.7133 22.6275 39.39 22.8475 38.97C23.0742 38.55 23.1875 38.0633 23.1875 37.51C23.1875 36.95 23.0742 36.4633 22.8475 36.05C22.6275 35.63 22.3242 35.3067 21.9375 35.08C21.5508 34.8533 21.1108 34.74 20.6175 34.74C20.1242 34.74 19.6842 34.8533 19.2975 35.08C18.9108 35.3067 18.6042 35.63 18.3775 36.05C18.1575 36.4633 18.0475 36.95 18.0475 37.51C18.0475 38.0633 18.1575 38.55 18.3775 38.97C18.6042 39.39 18.9108 39.7133 19.2975 39.94C19.6908 40.1667 20.1308 40.28 20.6175 40.28ZM26.2288 40.26H28.6688V41H25.3188V34.03H26.2288V40.26ZM30.5452 34.77V37.1H33.0852V37.85H30.5452V40.25H33.3852V41H29.6352V34.02H33.3852V34.77H30.5452Z"  fill="var(--el-color-primary)" v-if="this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] === 'whole'" />
													<path d="M9.53781 34.03L7.51781 41H6.49781L4.87781 35.39L3.19781 41L2.18781 41.01L0.237813 34.03H1.20781L2.72781 39.94L4.40781 34.03H5.42781L7.02781 39.92L8.55781 34.03H9.53781ZM15.9037 34.03V41H14.9937V37.84H11.4437V41H10.5337V34.03H11.4437V37.09H14.9937V34.03H15.9037ZM20.6175 41.07C19.9708 41.07 19.3808 40.92 18.8475 40.62C18.3142 40.3133 17.8908 39.89 17.5775 39.35C17.2708 38.8033 17.1175 38.19 17.1175 37.51C17.1175 36.83 17.2708 36.22 17.5775 35.68C17.8908 35.1333 18.3142 34.71 18.8475 34.41C19.3808 34.1033 19.9708 33.95 20.6175 33.95C21.2708 33.95 21.8642 34.1033 22.3975 34.41C22.9308 34.71 23.3508 35.13 23.6575 35.67C23.9642 36.21 24.1175 36.8233 24.1175 37.51C24.1175 38.1967 23.9642 38.81 23.6575 39.35C23.3508 39.89 22.9308 40.3133 22.3975 40.62C21.8642 40.92 21.2708 41.07 20.6175 41.07ZM20.6175 40.28C21.1042 40.28 21.5408 40.1667 21.9275 39.94C22.3208 39.7133 22.6275 39.39 22.8475 38.97C23.0742 38.55 23.1875 38.0633 23.1875 37.51C23.1875 36.95 23.0742 36.4633 22.8475 36.05C22.6275 35.63 22.3242 35.3067 21.9375 35.08C21.5508 34.8533 21.1108 34.74 20.6175 34.74C20.1242 34.74 19.6842 34.8533 19.2975 35.08C18.9108 35.3067 18.6042 35.63 18.3775 36.05C18.1575 36.4633 18.0475 36.95 18.0475 37.51C18.0475 38.0633 18.1575 38.55 18.3775 38.97C18.6042 39.39 18.9108 39.7133 19.2975 39.94C19.6908 40.1667 20.1308 40.28 20.6175 40.28ZM26.2288 40.26H28.6688V41H25.3188V34.03H26.2288V40.26ZM30.5452 34.77V37.1H33.0852V37.85H30.5452V40.25H33.3852V41H29.6352V34.02H33.3852V34.77H30.5452Z" fill="#727272" v-else />
												</svg>
											</el-radio>
										</el-radio-group>
										<strong class="topping-name" style="margin-left:1rem">
											{{ option.option_name }}
										</strong>
										<span class="checkbox-price">
											{{ getToppingsPrice( modifier, option ) }}
										</span>
									</el-col>
									
									<el-col :span="24" v-if="option.selected && option.option_attributes.has_extra">
										<div class="option-has-extra-half">
											<strong :class="activeProduct.extra[ option.option_id ] ? 'extra-selected' : ''">
												Extra? {{ getExtraPrice( modifier, option ) }}
											</strong>
											<el-radio-group
												v-model="activeProduct.extra[ option.option_id ]"
												@change="handleModifierExtraCheck( $event, modifier, option, index )"
											>
												<el-radio :label="true">Yes</el-radio>
												<el-radio :label="false">No</el-radio>
											</el-radio-group>
										</div>
									</el-col>
									
								</div>
							</template>
						</div>
						
						<!-- Non Pizza toppings modifier group -->
						<div v-else>
							
							<template 
								v-if="modifier.modifier_attributes.max_selected > 1&&modifier.modifier_attributes.select_all_button"
							>
								<el-checkbox
									v-model="modifier.select_all"
									@change="handleModifierCheckAll($event,modifier)"
								>
									Include all ingredients
								</el-checkbox>
	  						</template>
							
							<el-checkbox-group
								v-model="activeProduct.checkedModifiers[modifier.modifier_id]"
								v-if="modifier.modifier_attributes.max_selected > 1"
								@change="handleModifierCheck( $event, modifier )"
							>
								
								<template v-for="option in modifier.modifier_options">
	
									<template v-if="!activeProduct.show_modifier_upsells^(activeProduct.show_modifier_upsells&&option.option_attributes.is_upsell)">
										<el-col :class="[( option.selected ? 'is-selected' : '' )]" :span="24">
											<el-row justify="space-between">
												
												<el-col :span="12" class="modifier-list" >
													<el-checkbox
														size="default"
														:key="option.option_id"
														:label="option.option_id"
														:checked="option.selected"
														:disabled="option.disabled || modifier.select_all"
														:class="[
															'modifier-options-'+modifier.modifier_id,
															( option.selected && option.option_attributes.has_extra ? 'show-extra' : '' ),
														]"
														@change="modifierState( $event, modifier, option )"
													>
														<strong>{{ option.option_name }}</strong>
													</el-checkbox>
												</el-col>
												
												<el-col :span="12">
													<div class="modifier-details">
														<template v-if="option.selected && option.option_attributes.show_quantity">
					                                        <el-input-number
																@change="modifierState( $event, modifier, option )"
					                                            v-model="option.quantity"
																size="small"
					                                            :min="option.option_attributes.minimum_quantity || 1"
					                                            :max="getMaxAllowedQty(option)"
					                                            :step="1"
																:disabled="option.disableQuantity"
					                                        />
														</template>
														<span class="checkbox-price">
															{{ checkActivePrice( modifier, option ) }}
														</span>
													</div>
												</el-col>
												
												<el-col :span="24">
													<div class="option-has-extra-half" v-if="option.selected && option.option_attributes.has_extra">
														<strong>Extra? {{ getExtraPrice( modifier, option ) }}</strong>
														<el-radio-group
															v-model="activeProduct.extra[ option.option_id ]"
															@change="handleModifierExtraCheck( $event, modifier, option, index )"
														>
															<el-radio :label="true">Yes</el-radio>
															<el-radio :label="false">No</el-radio>
														</el-radio-group>
													</div>
												</el-col>

											</el-row>
										</el-col>
									</template>
								
								</template>
								
								<el-divider border-style="dashed" />
								
							</el-checkbox-group>
							
							<el-radio-group
								size="default"
								v-model="activeProduct.checkedModifiers[ modifier.modifier_id ]"
								@change="handleModifierCheck( $event, modifier, true )"
								v-else
							>
								<template v-for="option in modifier.modifier_options">
									
									<template v-if="!activeProduct.show_modifier_upsells^(activeProduct.show_modifier_upsells)">
										
										<el-col :class="[( option.selected ? 'is-selected' : '' ),]" :span="24">
											<el-row justify="space-between">
												<el-col :span="12" class="modifier-list" >
													<el-radio
														:key="option.option_id"
														:label="option.option_id"
														:class="[
															( option.selected && option.option_attributes.has_extra ? 'show-extra' : '' ),
														]"
													>
														<strong>{{ option.option_name }}</strong><br />
													</el-radio>
												</el-col>
												<el-col :span="12">
													<div class="modifier-details">
														<template v-if="option.selected && option.option_attributes.show_quantity">
														<el-input-number
															v-model="option.quantity"
															:min="option.option_attributes.minimum_quantity || 1"
															:max="getMaxAllowedQty(option)"
															:step="1"
															size="small"
														/>
														</template>
														<span class="checkbox-price">
															{{ checkActivePrice( modifier, option ) }}
														</span>
													</div>
												</el-col>
												<el-col :span="24">
													<div class="option-has-extra-half" v-if="option.selected && option.option_attributes.has_extra">
														<strong>Extra? {{ getExtraPrice( modifier, option ) }}</strong>
														<el-radio-group
															v-model="activeProduct.extra[ option.option_id ]"
															@change="handleModifierExtraCheck( $event, modifier, option, index )"
														>
															<el-radio :label="true">Yes</el-radio>
															<el-radio :label="false">No</el-radio>
														</el-radio-group>
													</div>
												</el-col>
											</el-row>
										</el-col>
									</template>
								</template>
								
								<el-divider border-style="dashed" />
								
							</el-radio-group>
						</div>
						
					</el-form-item>
				</template>
			</div>
			
			<template v-if="!activeProduct.show_modifier_upsells">
				<el-form-item label="Note for the kitchen (max 200 characters)" v-if="ShowNotesTextarea=='yes'">
					<el-input
						v-model="cartForm.menu_item_data.notes"
						:rows="5"
						type="textarea"
						maxlength="200"
						show-word-limit="true"
						placeholder="Add any special request (e.g. food allergies, extra spicy, etc.) and we will do our best to accomodate you."
					/>
				</el-form-item>
			</template>
		
		</template>

	</el-form>
	
    <template #footer>
		<el-row :gutter="10">
			<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
				<template v-if="!activeProduct.is_decimal_product">
			        <el-input-number
			        	class="quantity-input"
			            v-model="cartForm.quantity"
			            :min="activeProduct.minimum_quantity"
			            :max="activeProduct.maximum_quantity || 99"
						size="large"
			        />
			    </template>
			    <template v-else >
			        <el-input-number
			        	class="quantity-input"
			            v-model="cartForm.decimal_weight"
			            :min="activeProduct.minimum_weight"
			            :max="activeProduct.maximum_weight"
			            :step="activeProduct.weight_stepper"
						size="large"
			        />
				</template>
			</el-col>
			
			<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
				<el-button
					type="primary"
					class="btn-highlight cart-button"
					:disabled="false"
					:loading="addingItemsToCart"
					@click="validateItems"
					size="large"
					:style="{ color: highlightColorText }"
				>
					<span v-if="activeProduct.editing" :style="{ color: highlightColorText }">
						{{ addingItemsToCart ? 'UPDATING CART' : 'UPDATE CART' }}
					</span>
					<span v-else :style="{ color: highlightColorText }">
						{{ addingItemsToCart ? 'ADDING TO CART' : 'ADD TO CART' }}
					</span>
					<span class="cart-price" :style="{ color: highlightColorText }">
						- {{setCurrency(activeProductPrice)}}
					</span>
				</el-button>
			</el-col>
			
		</el-row>
	</template>

</el-dialog>
				<!-- Alcohol Dialog -->
				<el-dialog
					v-model="alcoholDialogVisible"
					:show-close="false"
					custom-class="alcohol-dialog"
					lock-scroll="true"
					center
				>
					<template #header="{ close, titleId, titleClass }">
						<div class="upsell-dialog_header">
							<h4 class="upsell-dialog_title heading">
								 Product contains alcohol! 
							</h4> 
						</div>
					</template>
					
										
					<template #footer>
						<div class="dialog-footer text-center">
							<el-button
								type="danger"
								round
								size="large"
								@click="addItemsToCart"
								:style="{ color: highlightColorText }"
							>
								Confirm
							</el-button>
							<el-button
								type="primary"
								round
								size="large"
								@click="alcoholDialogVisible = false"
								:style="{ color: highlightColorText }"
							>
								Cancel
							</el-button>
						</div>
					</template>
					
				</el-dialog>
				
				<!-- Cart drawer -->
				<shopping-cart
					:key="cartKey"
					:cart="cart"
					:show-cart="showCart"
					:menu-items="menuItems"
					:modifiers="modifiers"
					:modifier-options="modifier_options"
					:nonce="nonce"
					:highlight-color-text="highlightColorText"
                    :free-price-text="freeModifierPriceText"
					:pickup-only-text="pickUpOnlyText"
					:device-information="deviceInformation"
					:get-image-variation="getImageVariation"
					@edit-cart-item="editCartItem"
					@update-cart="updateCart"
					@go-to-checkout="goToCheckout"
					v-if="showCart"
				></shopping-cart>

			</el-container>
		</div>
	</div>
</div>

	<script type="module">
	
	import ShoppingCartHelpers from 'https://dantestrattoria.com/wp-content/themes/restaurants-20/woocommerce/vue-components/Helpers.js?ver=1.06'
	import SidebarMenu from 'https://dantestrattoria.com/wp-content/themes/restaurants-20/woocommerce/vue-components/SidebarMenu.js?ver=1.06'
	import ShoppingCart from 'https://dantestrattoria.com/wp-content/themes/restaurants-20/woocommerce/vue-components/ShoppingCart.js?ver=1.06'
	
	const { createApp } 		= Vue
    const FreeModifierPriceText = 'Free';
    const PickUpOnlyText		= 'Pickup Only';
    const ShowNotesTextarea 	= 'yes';

	const app = createApp({
		data() {
			return {
				deviceInformation:{
					type:'descktop',
					width:0,
					height:0
				},
				menuItems: [],
				menus: [],
				selectedMenu: null,
				selectedMenuItems: [],
				modifiers: [],
				modifier_options: [],
				categories: [],
				menuCategories: [],
				storeHours: [],
				storeStatus: [],
				upsellItems: [],
				loading: true,
				hideApp: true,
				activeMenu: '',
				tabMenu: [],
				categoryProducts: [],
				sidebarCategories: [],
				cartDrawer: false,
				activeProduct: null,
				retrievingCart: true,
				layout:JSON.parse(`{"gridColumns":"three-columns","categoriesPosition":"on-left","cardsType":"image-on-left","productDetails":"first-variation"}`),
				cartForm: {
					id: null,
					quantity: 1,
					menu_item_data: {
						variation_id: null,
						modifiers: [],
						notes: '',
						is_upsell: false,
					}
				},
				cartFormError: false,
				cartFormErrors: {},
				couponForm: {
					code: ''
				},
				cart: {},
				showCart: false,
				productDialogVisible: false,
				modifiersUpsellsVisible: false,
				crossSells:{
					dialog:false,
					products:[]
				},
				upSells:{},
				upsellDialogVisible: false,
				alcoholDialogVisible: false,
				upsellDialogShown: false,
				upsellProductPurchasedID: null,
				addingItemsToCart: false,
				quickAddToCart: null,
				nonce: '',
				searchTerm: '',
				searchKey: 0,
				cartKey: 0,
				viaCategoryId: typeof viaCategoryId === 'undefined' ? '' : viaCategoryId,
				menuMode:'horizontal',
				sidebarKey: 0,
				highlightColorText: helpers.getTextColor( highlightColor ),
				themeUrl: window.themeUrl,
				gallery: {},
				pizzaBuilder: {
					Crust: [],
					Cheese: [],
					Sauce: [],
					Toppings: [],
				},
				timezone: timezoneString,
				toppings: [],
                freeModifierPriceText: FreeModifierPriceText,
                pickUpOnlyText: PickUpOnlyText,
                ShowNotesTextarea: ShowNotesTextarea,
				dietaryOptions: [],
				selectedDietaryOptions: [],
			}
		},
		created() {
			document.getElementById( 'vue-app' ).classList.remove('hide')
			this.getAllShopData()
		},
		mounted() {
			this.setDeviceInformation();
			window.addEventListener('resize',this.setDeviceInformation );
		},
		methods: {
			getCategoriesPosition() {
				if (this.layout&&this.layout.categoriesPosition) {
					return this.layout.categoriesPosition;
				}
			},
			getGridColumn(type) {
			    const totalColumns = 24; // Represents the base grid
			    let largeScreens;
			    let mediumScreens;
			
			    // Determine column distribution based on the layout
			    switch (this.layout.gridColumns) {
			        case 'three-columns':
			            largeScreens = totalColumns / 3;
			            mediumScreens = totalColumns / 2;
			            break;
			        case 'two-columns':
			            largeScreens = totalColumns / 2;
			            mediumScreens = totalColumns / 2;
			            break;
			        case 'one-column': // Explicitly handle 'one-column' for clarity
			        default: // Fallback for 'one-column' or any other unhandled layout
			            largeScreens = totalColumns;
			            mediumScreens = totalColumns;
			            break;
			    }
			
			    // Return the appropriate column value based on screen type
			    switch (type) {
			        case 'lg':
			            return largeScreens;
			        case 'md':
			            return mediumScreens;
			        default: // Default case if 'type' is not 'lg' or 'md'
			            return totalColumns;
			    }
			},
			setDeviceInformation() {
			    // Set device dimensions
			    this.deviceInformation.width = window.innerWidth;
			    this.deviceInformation.height = window.innerHeight;
			
			    // Determine device type
			    this.deviceInformation.type = this.deviceInformation.width <= 640 ? 'mobile' : 'desktop';
			
			    // Set menu mode based on device type
			    this.menuMode = this.deviceInformation.type === 'mobile' ? 'horizontal' : 'vertical';
			
			    // Recalculate heights for all relevant dialogs
			    this.calculateHeight('productDialog');
			    this.calculateHeight('upsellDialog');
			    this.calculateHeight('crossSellDialog');
			},
			calculateHeight(type) {
				
			    const PADDINGS = 30;
			    let selector = '';
			    
			    // Determine the correct selector based on type and visibility
			    if (type === 'productDialog' && this.productDialogVisible) {
			        selector = 'product-dialog';
			    } else if (type === 'upsellDialog' && this.upsellDialogVisible) {
			        selector = 'upsell-dialog';
			    } else if (type === 'crossSellDialog' && this.crossSells.dialog) {
			        selector = 'cross_sells_dialog';
			    }
			
			    // If a selector was found, proceed with calculations
			    if (selector) {
			        const currentModal = document.querySelector(`.${selector}`); // Use querySelector for potentially better performance with class
			        // Ensure the modal exists before trying to access its children
			        if (!currentModal) {
			            console.warn(`Modal with selector .${selector} not found.`);
			            return; 
			        }
			        const header = currentModal.querySelector('.el-dialog__header');
			        const body = currentModal.querySelector('.el-dialog__body');
			        const footer = currentModal.querySelector('.el-dialog__footer');

			        // Check if all necessary elements exist before calculating
			        if (header && body && footer) {
			            const calculatedOccupiedHeight = (header.clientHeight + footer.clientHeight) + (PADDINGS * 2.2);
			            body.style.height = `${this.deviceInformation.height - calculatedOccupiedHeight}px`;
			        } else {
			            console.warn(`Missing one or more dialog elements (header, body, or footer) for modal .${selector}.`);
			        }
			    }
			    
			},
			/**
			 * Generates a string indicating the number of selections, handling pluralization.
			 * @param {number} count - The number of selections.
			 * @returns {string} The formatted selection string.
			 */
			getModifierAmountInstruction(count) {
			    return `${count} option${count !== 1 ? 's' : ''}`;
			},
			/**
			 * Generates an instruction string for a modifier based on its minimum and maximum required selections.
			 * @param {number} max - The maximum number of selections allowed.
			 * @param {number} min - The minimum number of selections required.
			 * @returns {string} The instructional HTML string.
			 */
			getModifierInstruction(max, min) {
				
			    const iconCheck = '<i class="fa-solid fa-circle-check"></i>';
			    const iconExclamation = '<i class="fa-solid fa-circle-exclamation"></i>';
			
			    if (min === 0 && max === 0) {
			        return `${iconCheck} Optional`;
			    }
				
			    if (min > 0 && max === 0) {
			        return `${iconExclamation} Required ${this.getModifierAmountInstruction(min)}`;
			    }
				
			    if (min === 0 && max > 0) {
			        return `${iconExclamation} (Optional) Select up to ${this.getModifierAmountInstruction(max)}`;
			    }
				
			    // This handles the case where min > 0 and max can be > 0 (though the original logic didn't specify behavior for max > 0 here).
			    if (min > 0) {
			         return `${iconExclamation} You must select at least ${this.getModifierAmountInstruction(min)} and no more than ${this.getModifierAmountInstruction(max)}`;
			    }
				
			    return ''; // Default case to handle any other unexpected values.
			    
			},
			getImageVariation(product,variation) {
				let image = product.featured_image;
				if (product.image_variations&&product.image_variations[variation]&&product.image_variations[variation].attachment_url) {
					image = product.image_variations[variation].attachment_url;
				}
				return image;
			},
			getAllShopData() {
				const types = [
					'getAllData',
					'getCart',
				]
				helpers.getMultipleTypes( types )
					.then( response => {
						response.forEach( ( el, index ) => {
							
							const { data } = el.data

							if ( index === 0 ) {
								
								// categories
								data.categories.forEach( category => category.products = [] )
								
								this.categories     = data.categories
								this.menuCategories = [ ...data.categories ]
								
								const uncat         = this.categories.find( cat => cat.name.toLowerCase() === 'uncategorized' )

								// menu items
								let sorted_menu_items = data.menuItems.sort( 
									( a, b ) => a.menu_order - b.menu_order
								);
								
                                this.menuItems = uncat ? sorted_menu_items.filter(item => uncat ? ! item.category_ids.includes( uncat.term_id ) : true ) : sorted_menu_items

								this.sortItemsWithCategories( this.menuItems )

								// store hours
								this.storeHours = data.storeHours

								// store status (open/closed)
								this.storeStatus = data.storeStatus

								// menus
								this.menus = data.menus
								this.sortItemsWithCategoriesByMenu( this.menuItems )

								// modifiers & modifier options
								data.modifiers.modifiers.forEach( modifier => {
									modifier.shown 			  = false
									modifier.modifier_options = []
								})

								data.modifiers.modifiers_options.forEach( ( option, index ) => {
									option.selected = false
									const modifier  = data.modifiers.modifiers.find(
										modifier => modifier.modifier_id === option.modifier_id
									)
									if ( modifier && option.option_attributes.available ) {
										modifier.modifier_options.push( option )
									}
								})

								data.modifiers.modifiers.forEach( modifier => {
									modifier.modifier_options.sort( 
										( a, b ) => a.option_attributes.order - b.option_attributes.order
									)
								})
								
								this.modifiers        = data.modifiers.modifiers
								this.modifier_options = data.modifiers.modifiers_options

								// Pizza builder images
								this.gallery = data.gallery
							}
							
							if ( index === 1 ) {
								// cart data
								this.cart = el.data
                                this.nonce = el.headers.nonce;
								this.retrievingCart = false
							}
							
						})
						
						this.checkURLparams()
						this.getUpsells()
					})
			},
			checkURLparams() {
				
				// Show the cart if param exists in url
				const url    = new URL( location )
				const params = new URLSearchParams( url.search )

				if ( params.has( 'showcart' ) ) {
					this.cartKey++
					this.showCart = true
				} else if ( params.has( 'item' ) ) {
					const menuItem = this.menuItems.find( item => item.id == params.get( 'item' ) )
					if ( menuItem ) { 
						this.openCartDialog( menuItem )
					}
				} else if ( this.viaCategoryId ) {
					setTimeout(() => {
						this.selectSidebarItem( this.viaCategoryId )
					}, 100 )
				}
				
				this.loading  = false
				
			},
			getUpsells() {
				
				helpers.get('active','upsell').then( response => {
					const { data, status } = response
					if ( status === 200 ) {
						this.upsells = data.data;
						this.setUpsells();
					}
				})
				
			},
			setUpsells() {
				
				if (this.upsells.status=='active') {
					switch(this.upsells.source) {
					  case 'products':
					  	
							if (this.upsells.upsells.length ) {
								const menuItems = [];
								const upsellIDs = this.upsells.upsells.map((selected) => {
									selected = this.menuItems.find(
										product => product.id == selected
									)
									if (selected) {
										menuItems.push(selected);
									}
								})
								this.upsellItems = menuItems;
							}
							
						break;
					  case 'categories':
					  	
							if (this.upsells.categories.length ) {
								const upsellIDs = this.upsells.categories.map(
									cat => parseInt(cat)
								)
								const menuItems = this.menuItems.filter(
									item => upsellIDs.includes( 
										item.category_ids[0]
									)
								)
								const shuffled   = [...menuItems].sort( 
									() => 0.5 - Math.random()
								)
								this.upsellItems = shuffled.slice(0,this.upsells.limit)
							}
							
						break;
					}
				}
				
			},
			getUpsellItems(selectedUpsells) {
				
				let uniqueUpsells	= [];
				let cartItems  		= this.cart.items;
				
				selectedUpsells.forEach((item) => {
					let isPresent = cartItems.filter(function(cartItem,index) {
						if (item.id===cartItem.id) {
							return item.id;
						}
					});
					if (isPresent.length==0) {
						uniqueUpsells.push(item);
					}
				});
				
				return uniqueUpsells;
				
			},
			sortItemsWithCategories( items ) {
				
				let itemsByCategory = this.categories
				let catIndex
				let hideProduct = false

				items.forEach( menuItem => {
					const menuCatID = menuItem.category_ids[ 0 ]
					const dietaryOptions = menuItem.dietary_options

					dietaryOptions.forEach( option => {
						const foundOption = this.dietaryOptions.find( dietaryOption => dietaryOption.value === option )
						if ( !foundOption ) {
							const label = option.split('_').map( word => word.charAt(0).toUpperCase() + word.slice(1) ).join(' ')
							this.dietaryOptions.push({ value: option, label  })
						}
					})

					catIndex        = itemsByCategory.findIndex(
						cat => cat.term_id === menuCatID
					)

					if ( catIndex < 0 ) {
						catIndex = itemsByCategory.findIndex(
							cat => cat.name === 'Uncategorized'
						)
					}

					// if all variations are out of stock, don't show the product
					if ( Array.isArray( menuItem.variations ) ) {
						let variationsInstock = 0
						menuItem.variations.forEach(variation => {
							if (variation.stock_status === 'instock') {
								variationsInstock++
							}
						})
						if (variationsInstock === 0) {
							hideProduct = true
						}
					}

					!hideProduct && itemsByCategory[ catIndex ].products.push( menuItem )
				})

				this.categories = itemsByCategory
			},
			sortItemsWithCategoriesByMenu( items ) {
				this.menus.forEach( menu => {
					menu.categories = []
					menu.products   = []
				})

				// put each item in its respective menu
				items.forEach( item => {
					item.menu_ids.forEach( menuID => {
						const foundMenu = this.menus.find( menu => menu.term_id === menuID )

						if ( foundMenu && item.stock_status === 'instock' ) {
							foundMenu.products.push( item )
						}
					})
				})

				// create menu categories based on the menu item's categories
				this.menus.forEach( menu => {

					// add Featured Items category to menu
					if ( showFeaturedItems === 'yes' ) {
						const featItemsCat = this.menuCategories.find( category => category.slug === 'featured-items' );
						featItemsCat.name = featuredItemsName;
						menu.categories.push(featItemsCat)
					}

					menu.products.forEach( product => {
						const isFeaturedProd    = product.is_featured_product
						const catID    		    = product.category_ids[ 0 ]
						const foundItemCategory = this.menuCategories.find( category => category.term_id === catID )
						let category

						if ( foundItemCategory ) {
							// check if menu has this category yet
							const foundMenuCategory = menu.categories.find(
								cat => cat.term_id == foundItemCategory.term_id
							)

							if ( foundMenuCategory ) {
								foundMenuCategory.products.push( product )
							}
							else {
								category = {
									...foundItemCategory,
									products: [],
								}
								category.products.push( product )
								menu.categories.push( category )
							}
						}

						if (isFeaturedProd && showFeaturedItems === 'yes') {
							const showFeaturedItemsCategory = menu.categories.find( category => category.slug === 'featured-items' )
							showFeaturedItemsCategory.products.push( product )
						}
					})
				})

				this.menus.forEach( menu => {
					menu.categories.forEach( category => {
						const uniqueProducts    = []
						const uniqueProductsSet = new Set()
						for ( const product of category.products ) {
							const json = JSON.stringify( product )

							if ( !uniqueProductsSet.has( json ) ) {
								uniqueProducts.push( json )
							}
							uniqueProductsSet.add( json )
						}
						category.products = [ ...uniqueProductsSet ].map( product => JSON.parse( product ) )
					})
					menu.categories.sort( ( a, b ) => a.order - b.order )
				})
				this.checkValidMenuTimes( this.menus )
			},
			hasVariationStock(product) {
				if (typeof product.variations === 'string') return true;
				if (Array.isArray(product.variations)) {
					return product.variations.some(variation => variation.stock_status === 'instock');
				}
				return false;
			},
			getNow() {
				const date    = new Date()
				const invdate = new Date( date.toLocaleString('en-US', { timeZone: this.timezone } ) )
				const diff    = date.getTime() - invdate.getTime()
				return new Date( date.getTime() - diff )
			},
			checkValidMenuTimes( menus ) {
				const daysOfWeek = [
					{ index: 0, day: 'sunday'    },
					{ index: 1, day: 'monday'    },
					{ index: 2, day: 'tuesday'   },
					{ index: 3, day: 'wednesday' },
					{ index: 4, day: 'thursday'  },
					{ index: 5, day: 'friday'    },
					{ index: 6, day: 'saturday'  },
				]
				const now             = this.getNow()
				const currentDayIndex = now.getDay()

				let currentDay = ''

				for ( const day of daysOfWeek ) {
					if ( day.index === currentDayIndex ) {
						currentDay = day.day
						break
					}
				}

				for ( const menu of menus ) {
					menu.show = true
					const { date_range_start: startDate, date_range_end: endDate, has_date_range: hasDateRange } = menu
					const { hours_source: hoursType, hours_custom: hoursCustom }   = menu.menu_hours
					const { site_hours: siteHours } 							   = this.storeHours

					// check start/end date range
					if ( hasDateRange ) {

						if ( startDate ) {
							const start = new Date( startDate )
							if ( now < start ) {
								menu.show = false
								continue
							}
						}

						if ( endDate ) {
							const end = new Date( endDate )
							if ( now > end ) {
								menu.show = false
								continue
							}
						}
					}

					// check start end time range
					if ( hoursType === 'custom' ) {
						if ( hoursCustom[ currentDay ] && hoursCustom[ currentDay ].length ) {
							for ( const dayTimes of hoursCustom[ currentDay ] ) {
								menu.show = this.checkBetweenHours( dayTimes )
								if ( menu.show ) break
							}
						}
						else {
							menu.show = false
						}
					} else {
						if ( siteHours[ currentDay ] && siteHours[ currentDay ].length ) {
							for ( const dayTimes of siteHours[ currentDay ] ) {
								menu.show = this.checkBetweenHours( dayTimes )
								if ( menu.show ) break
							}
						}
						else {
							menu.show = false
						}
					}


					// Show menu regardless of menu hours if it is available for order ahead
					if ( menu.available_for_order_ahead ) menu.show = true

					// Always hide menu if it has no menu items
					if ( menu.categories.length === 0 ) {
						menu.show = false
					}
					
				}

				// Set first available menu to the active menu

                let visibleMenus = menus.filter(m => m.show);
                if (visibleMenus.length > 0) {
                    let _menu = undefined;
                    if (typeof viaLinkMenuId !== 'undefined' && visibleMenus.find(m => m.term_id === viaLinkMenuId) !== undefined) {
                        _menu = visibleMenus.find(m => m.term_id === viaLinkMenuId);
                    } else {
                        let allDayMenu = visibleMenus.filter(m => m.available_for_order_ahead);
                        if (allDayMenu.length > 0) {
                            _menu = allDayMenu[0];
                        } else {
                            _menu = visibleMenus[0];
                        }
                    }

                    this.selectedMenu = _menu
                    this.activeMenu = _menu.name
                    this.getSelectedMenuItems()
                }
			},
			checkBetweenHours( dayTimes ) {
				const now                        = this.getNow()
				const { open, close } 	   		 = dayTimes
				const [ openHour, openMinute ]   = open.split( ':' )
				const [ closeHour, closeMinute ] = close.split( ':' )

				const startTime = new Date( now.getTime() )
				startTime.setHours( openHour )
				startTime.setMinutes( openMinute )
				startTime.setSeconds( '00' )

				const endTime = new Date( now.getTime() )
				endTime.setHours( closeHour )
				endTime.setMinutes( closeMinute )
				endTime.setSeconds( '00' )

				return now > startTime && now < endTime ? true : false
			},
			validateModifiersBlank( modifier ) {
				
				// Validate if modifier selection is left blank when required
				const { modifier_attributes: attrs } = modifier

				if ( !attrs.is_required && !attrs.min_selected || !modifier.shown) {
					return
				}

				const cartMod = this.findModifierInCart(modifier.modifier_id);

				if ( !cartMod || cartMod.options?.length === 0 ) {
					this.cartFormError  = true
					this.setErrorMessage( modifier, `${ modifier.modifier_name } selection is required` )
				}
				
			},
			validateModifiersSelected( modifier ) {

				const mod = this.findModifier(modifier.modifier_id);
				
				// Validate minimum selected modifier options
				let optionsSelected = 0; 
				
				modifier.options.forEach( option => {
					if (option.quantity) {
						optionsSelected += option.quantity;
					} else {
						optionsSelected += 1;
					}
				})
				
				if ( !mod.modifier_attributes.is_required && !mod.modifier_attributes.min_selected && optionsSelected <= mod.modifier_attributes.max_selected ) {
					return
				}
				
				if ( optionsSelected < mod.modifier_attributes.min_selected ) {
					this.cartFormError  = true
					this.setErrorMessage( modifier, `${ mod.modifier_name }: Please select at least ${ mod.modifier_attributes.min_selected } ${ mod.modifier_attributes.min_selected === 1 ? 'option' : 'options' }` )
				}
				
				if (mod.modifier_attributes.max_selected>1) {
					if ( optionsSelected > mod.modifier_attributes.max_selected ) {
						this.cartFormError  = true
						this.setErrorMessage( modifier, `You may only select a max of ${ mod.modifier_attributes.max_selected } ${ mod.modifier_attributes.max_selected === 1 ? 'option' : 'options' }` )
					}
				}
				
			},
			setErrorMessage( modifier, msg ) {
				if ( this.cartFormErrors[ modifier.modifier_id ] ) {
					this.cartFormErrors[ modifier.modifier_id ].errors.push( msg )
				} else {
					this.cartFormErrors[ modifier.modifier_id ] = {
						hasError: true,
						errors: [ msg ]
					}
				}
			},
			scrollToFirstError() {
				
				let firstModifierError	= Object.keys(this.cartFormErrors)[0];
				
				if (firstModifierError) {
					let scrollOffset	= 0;
					// Only product dialog
					let productDialog	= document.querySelector('.product-dialog');
					let dialogBody		= productDialog.querySelector('.el-dialog__body');
					let firstError		= dialogBody.querySelector( '.modifier-'+firstModifierError );
					if (firstError) {
						scrollOffset = firstError.offsetTop;
					}
					dialogBody.scrollTo({ 
						top: scrollOffset,
						behavior: 'smooth'
					});
				}
				
			},
			getSelectedMenuItems() {
				this.selectedMenuItems = []
				this.selectedMenu.categories.forEach( category => {
					category.products.forEach( product => this.selectedMenuItems.push( product ) )
				})
			},
			putPreselectedModifiersInCart() {
				
				// modifier options pre-selected on per-item basis
				// All preselected should be included in price of item (free)
				let preselected = []

				if ( this.activeProduct.modifiers_preselected_options_ids?.length ){
					
					this.activeProduct.modifiers_preselected_options_ids.forEach( modifier => {

						const mod = this.findModifier(modifier.id);

						if ( mod ) {
							
							preselected.push( mod.modifier_id )
							
							mod.modifier_options.forEach( option => {
								if ( modifier.pre_selected_options.includes( option.option_id ) ) {
									option.selected    = true
									option.activePrice = 0
									if (option.option_attributes&&option.option_attributes&&option.option_attributes.show_quantity) {
										option.quantity = option.option_attributes.minimum_quantity || 1;
									}
								}
							})

							this.cartForm.menu_item_data.modifiers.push({
								modifier_id: modifier.id,
								options: modifier.pre_selected_options.map( opt => {
									return {
										option_id: opt,
										side: false,
										extra: false,
										price: 0,
									}
								}),
							})
							
							this.showOptionPrice( mod )
							
						}
					})
				}

				// Check to show any modifier groups conditionally if
				// certain options were pre-selected
				this.activeProduct.modifiers.forEach( mod => {
					const { modifier_attributes: attrs } = mod
					const { show_if_option, show_if_modifier, is_required, is_conditional } = attrs
					let showMod = false

					if ( is_conditional ) {
						for ( const option of show_if_option ) {
							const modSelected = this.findModifier(show_if_modifier);
							if ( modSelected ) {
								const opt = modSelected.modifier_options.find(
									opt => opt.option_id == option
								)
								if ( opt && opt.selected ) {
									showMod = true
									break
								}
							}
						}
						mod.shown = showMod
					}

					// Add required modifiers to the cart with empty options array
					// for validation on "add to cart" button click
					if (is_required) {
						if ( ( is_conditional && mod.shown ) || !is_conditional ) {
							
							// check to see if modifier is already in the cart
							// if not, then add it
							const cartMod = this.findModifierInCart(mod.modifier_id);
							
							if (!cartMod) {
								this.cartForm.menu_item_data.modifiers.push({
									modifier_id: mod.modifier_id,
									options: [],
								})
							}
							
						}
					}

					this.showOptionPrice( mod )
					
				})

				this.activeProduct.modifiers.forEach( ( modifier, index ) => {
					
					this.activeProduct.toppings = {}
					
					let selected = []
					
					modifier.modifier_options.forEach( (option) => {
						
						if ( option.selected ) {
							
							// if mod is a checkbox set values in an array, radio - make value a string
							if ( modifier.modifier_attributes.max_selected > 1 ) {
								selected.push( option.option_id )
							} else {
								selected = option.option_id
							}

							if ( !modifier.modifier_attributes.is_toppings_group ) {
								this.activeProduct.checkedModifiers[ modifier.modifier_id ] = selected
							}
							
						}

						if ( modifier.modifier_attributes.is_toppings_group ) {
							const type = option.selected ? 'whole' : 'none'
							if ( this.activeProduct.checkedModifiers[ modifier.modifier_id ] ) {
								this.activeProduct.checkedModifiers[ modifier.modifier_id ][ option.option_id ] = type
							} else {
								this.activeProduct.checkedModifiers[ modifier.modifier_id ] = {
									[ option.option_id ]: type
								}
							}
						}
						
					})
					
					this.showOptionPrice( modifier )
					
				})

				// disable other options if pre-selected options meets the max_selected number
				this.activeProduct.modifiers.forEach( modifier => {
					
					let selected = 0
					
					const {is_toppings_group,max_selected} = modifier.modifier_attributes

					modifier.modifier_options.forEach( option => {
						if ( option.selected ) {
							option.disabled = false
							selected++
						}
					})
					
					if ( selected >= max_selected ) {
						const disabled = modifier.modifier_options.filter( o => !o.selected )
						disabled.forEach(opt => {
							if (!opt.selected) {
								opt.disabled = true;
							}
							if (is_toppings_group&&max_selected==1) {
								opt.disabled = false;
							}
						});
					}
				})

				// add preselected pizza option images to pizza builder
				if ( this.activeProduct.is_pizza_product )  {
					this.showPizzaImages()
				}
				
			},
			showAlcoholAlert() {
				
				this.alcoholDialogVisible = true
				
			},
			showPizzaImages() {
				
				const images = {
					Crust: [],
					Sauce: [],
					Cheese: [],
					Toppings: [],
				}
				
				this.cartForm.menu_item_data.modifiers.forEach( modifier => {
					
					for ( const option of modifier.options ) {
						const foundModifier = this.findModifier(modifier.modifier_id);
						if ( foundModifier ) {
							const foundOption = foundModifier.modifier_options.find(
								opt => opt.option_id === option.option_id
							)
							if ( foundOption ) {
								const { image } = foundOption.option_attributes
								if ( image && image.regular && image.category ) {
									images[ image.category ].push({
										imageURL: image.regular,
										optionID: foundOption.option_id,
										half: option.side
									})
								}
							}
						}
					}
					
				})
				
				this.pizzaBuilder = { ...images }
				
			},
			updatePizzaImages( modifier, value, optionID ) {
				
				const foundOption = modifier.modifier_options.find(
					opt => opt.option_id === optionID
				)
				
				// toppings only
				if ( foundOption ) {
					
					const { image }  = foundOption.option_attributes
					const imageIndex = this.pizzaBuilder[ image.category ].findIndex(
						image => image.optionID == optionID
					)
					
					const side = value === 'whole' ? false : value
					const newImage = {
						imageURL: image.regular,
						optionID: foundOption.option_id,
						half: side
					}

					if ( imageIndex > -1 ) {
						if ( side !== 'none' ) {
							this.pizzaBuilder[ image.category ].splice( imageIndex, 1, newImage )
						}
						else {
							this.pizzaBuilder[ image.category ].splice( imageIndex, 1 )
						}
					}
					else {
						this.pizzaBuilder[ image.category ].push( newImage )
					}
				}
				
				// non-toppings pizza images (crust, cheese, sauce)
				else {
					
					const options = Array.isArray( value ) ? value : [ value ]
					const images  = []
					let category  = ''
					
					if ( modifier.modifier_name.toLowerCase().includes( 'crust' ) || modifier.modifier_name.toLowerCase().includes( 'cheese' ) || modifier.modifier_name.toLowerCase().includes( 'sauce' ) ) {
						if ( Array.isArray( options ) ) {
							if ( options.length ) {
								options.forEach( option_id => {
									const foundOption = modifier.modifier_options.find(
										opt => opt.option_id === option_id
									)

									if ( foundOption ) {
										const { image }  = foundOption.option_attributes
										category         = image.category
										if ( image.category ) {
											const imageIndex = this.pizzaBuilder[ category ].findIndex(
												image => image.optionID == option_id
											)
											const newImage = {
												imageURL: image.regular,
												optionID: foundOption.option_id,
												half: false
											}

											images.push( newImage )
										}
									}
								})
								if ( category ) this.pizzaBuilder[ category ] = images
							}
							else {
								// all checkbox options deselected
								this.pizzaBuilder[ category ] = []
							}
						}
						else {
							// remove all images in option category
							const foundOption = modifier.modifier_options.find(
								opt => opt.option_id === option_id
							)

							if ( foundOption ) {
								const { image }  = foundOption.option_attributes
								category         = image.category
								if ( image.category ) {
									const imageIndex = this.pizzaBuilder[ category ].findIndex(
										image => image.optionID == option_id
									)
									const newImage = {
										imageURL: image.regular,
										optionID: foundOption.option_id,
										half: false
									}

									this.pizzaBuilder[ category ] = newImage
								}
							}
						}
					}
				}
				
			},
			handleMenuSelect( menuName ) {
				
				this.selectedMenu = this.menus.find( menu => menu.name === menuName )
				
                                
				this.getSelectedMenuItems()
				
			},
			handleModifierCheckAll(value, modifier) {
				
			    // Initialize or clear the array for checked modifiers under this modifier_id
			    this.activeProduct.checkedModifiers[modifier.modifier_id] = [];
			    
				let modifierState;
				let selectedOptions = 0;
				
				modifier.modifier_options.filter(option => {
					if (option.quantity) {
						selectedOptions += option.quantity;
					} else {
						selectedOptions += 1;
					}
					if (selectedOptions<=modifier.modifier_attributes.max_selected) {
						option.checked	= value; // Update the option's checked state directly
				        option.selected = value;
						this.modifierState(value, modifier, option);
					}
				})
			    
			    // Iterate over each option, update its checked state, and collect checked option IDs
			    const checkedOptionIds = modifier.modifier_options.filter(option => {
			    	if (option.checked) {
						return value;
			    	}
			    }).map(option => option.option_id);
				
			    // If 'value' is true, populate the activeProduct's checkedModifiers
			    if (value) {
			        this.activeProduct.checkedModifiers[modifier.modifier_id] = checkedOptionIds;
			    }
				
			    // Call handleModifierCheck with the collected option IDs
			    // The 'false' argument likely prevents recursive calls or redundant logic within handleModifierCheck
			    this.handleModifierCheck(checkedOptionIds, modifier, false);
			    
			},
			handleModifierCheck( value, modifier, radio = false, optionID = false ) {
				
				let cartModifier
				
				if ( this.cartForm.menu_item_data.modifiers.length ) {
					cartModifier = this.findModifierInCart(modifier.modifier_id);
				}
				
				// Clear previous half and extra choices if radio choice is changed
				if ( radio ) {
					modifier.modifier_options.forEach( opt => {
						if ( this.activeProduct.extra[ opt.option_id ] ) {
							this.activeProduct.extra[ opt.option_id ] = false
						}
						if ( this.activeProduct.half[ opt.option_id ] ) {
							this.activeProduct.half[ opt.option_id ] = false
						}
					})
				}

				modifier.modifier_options.forEach( option => {
					
					if (option.option_attributes.show_quantity) {
						if (!option.quantity) {
							option.quantity = option.option_attributes.minimum_quantity || 1;
						}
					}
					
					// for checkboxes
					if ( Array.isArray( value ) ) {
						option.selected = value.includes( option.option_id ) || false
						// clear any extra or half selected if option is not checked
						if ( !option.selected ) {
							this.activeProduct.extra[ option.option_id ] = false
							this.activeProduct.half[ option.option_id ]  = false
							this.showOptionPrice( modifier, value )
						}
					}
					// for radios
					else {

						// for pizza toppings
						if ( optionID ) {
							
							if ( optionID == option.option_id ) {
								let selected = false
								
								if ( value === 'whole' || value === 'left' || value === 'right' ) {
									selected = true
								}
								
								option.selected = selected
								
								// set half if left || right
								this.activeProduct.half[ optionID ] = value === 'left' || value === 'right'
									? true
									: false

								if ( !selected ) {
									this.activeProduct.extra[ optionID ] = false
								}
							}
						}
						// non-pizza radio selectors
						else {
							if ( typeof value === 'object' ) {
								const val = value[ option.option_id ]
								option.selected = ( val === 'whole' || val === 'left' || val === 'right' )
													? true
													: false
								if ( !option.selected ) {
									this.activeProduct.half[ option.option_id ]  = false
									this.activeProduct.extra[ option.option_id ] = false
								}
							}
							else {
								option.selected = value == option.option_id || false
							}
						}
					}
				})

				let options = []
				const side  = value

				// for pizza toppings
				if ( optionID ) {
					value 	   = [ optionID ]
					options    = value.map( option => {
						return {
							option_id: option,
							side: side === 'left' || side === 'right' ? side : false,
							extra: false,
						}
					})
				}
				// non-pizza toppings modifiers
				else {
					value = typeof value === 'string' ? [ value ] : value

					if ( value.length ) {
						options = value.map( option => {
							return {
								option_id: option,
								side: false,
								extra: this.activeProduct.extra[ option ],
							}
						})
					}
				}

				// if modifier already has options set in cart
				if ( cartModifier ) {
					// for pizza toppings
					if ( optionID ) {
						const optionIndex = cartModifier.options.findIndex(
							opt => opt.option_id == optionID
						)
						if ( optionIndex > -1 ) {
							if ( side === 'none' ) {
								// remove option from cart
								cartModifier.options.splice( optionIndex, 1 )
							}
							else {
								cartModifier.options[ optionIndex ] = options[ 0 ]
							}
						}
						else {
							cartModifier.options.push( options[ 0 ] )
						}
					}
					// for non-pizza modifiers
					else {
						if ( options.length ) {
							cartModifier.options = options
						}
						else {
							if ( Array.isArray( value ) ) {
								cartModifier.options = []
							}
						}
					}
				}
				// if modifier has zero options added to the cart yet
				else {
					if ( options.length ) {
						this.cartForm.menu_item_data.modifiers.push({
							modifier_id: modifier.modifier_id,
							options,
						})
					}
				}

				
				// Check to show any modifier groups conditionally
				this.activeProduct.modifiers.forEach( mod => {
					const { modifier_attributes: attrs } = mod
					
					if ( attrs.is_conditional && modifier.modifier_id == attrs.show_if_modifier ) {
						let showMod = false
						for ( const option of attrs.show_if_option ) {
							if ( value.length === 1 ) {
								if ( value.includes( option ) ) {
									showMod = true
									break
								}
							}
							else {
								for ( const optID of value ) {
									if ( optID == option ) {
										showMod = true
										break
									}
								}
							}
						}
						mod.shown = showMod

						// if mod is no longer shown, make sure to remove it from the cart
						if ( !showMod ) {
							const modIndex = this.cartForm.menu_item_data.modifiers.findIndex(
								modifier => modifier.modifier_id == mod.modifier_id
							)
							if ( modIndex > -1 ) {
								this.cartForm.menu_item_data.modifiers.splice( modIndex, 1 )
							}
						}
						else {
							this.showOptionPrice( mod, value )
						}
					}

				})
				
				if ( this.activeProduct.is_pizza_product ) {
					this.updatePizzaImages( modifier, side, optionID )
				}

				if ( optionID ) {
					const toppingsOption = modifier.modifier_options.find(
						o => o.option_id == optionID
					)
					if ( toppingsOption ) this.getToppingsPrice( modifier, toppingsOption )
				}
				
			},
			handleModifierExtraCheck( value, modifier, option, index ) {
				const cartOption = this.findCartOption( modifier, option )
				
				cartOption.extra = value ? value : false

				if ( this.activeProduct.extra[ option.option_id ] ) {
					option.activePrice += option.option_attributes.extra_price
					// check for specific variation modifier option prices
					if ( this.cartForm.menu_item_data && this.cartForm.menu_item_data.variation_id &&
							!Array.isArray( this.activeProduct.variations_modifiers ) &&
							Object.keys( this.activeProduct.variations_modifiers ).length
					) {
						this.checkVariationPrice( modifier, option )
					}
					this.checkOptionFree( modifier, option )
				}
				else {
					if ( this.cartForm.menu_item_data && this.cartForm.menu_item_data.variation_id &&
							!Array.isArray( this.activeProduct.variations_modifiers ) &&
							Object.keys( this.activeProduct.variations_modifiers ).length
					) {
						this.checkVariationPrice( modifier, option )
					}
					this.checkOptionFree( modifier, option )
					this.handleModifierCheck( this.activeProduct.checkedModifiers[ modifier.modifier_id ], modifier )
				}
				
				this.showOptionPrice( modifier )
			},
			handleModifierHalfCheck( value, modifier, option ) {
				const cartOption = this.findCartOption( modifier, option )
				cartOption.side  = value
			},
			findCartOption( modifier, option ) {
				
				const { activeProduct, cartForm } = this;
				
				const cartModifier = cartForm.menu_item_data.modifiers.find(
					cartMod => cartMod.modifier_id === modifier.modifier_id
				)
				
				return cartModifier.options.find(
					cartOpt => cartOpt.option_id === option.option_id
				)
				
			},
			getMaxAllowedQty(option) {
				
				let maxQuantity = option.option_attributes.maximum_quantity;
				
				if (option.option_attributes.maximum_quantity>option.option_attributes.maximum_left_quantity) {
					maxQuantity = option.option_attributes.maximum_left_quantity;
				}
				
				return maxQuantity || option.option_attributes.maximum_left_quantity;
				
			},
			modifierState(value,modifier,option) {

				modifier.selected_options = 0;
				
				const max = modifier.modifier_attributes.max_selected;
				const mod = this.findModifierInCart(modifier.modifier_id);
				
				modifier.modifier_options.forEach(opt => {
					if (opt.selected) {
						if (opt.quantity) {
							modifier.selected_options += opt.quantity;
						} else {
							modifier.selected_options += 1;
						}
					}
				})
				
				if ( mod ) {
					modifier.modifier_options.forEach(opt => {
						
						const cartOption = mod.options.find(
							modOption => modOption.option_id === opt.option_id
						)
						
						opt.option_attributes.maximum_left_quantity = opt.quantity+(max-modifier.selected_options);

						if (!cartOption&&modifier.selected_options >= max) {
							// In case of toppings ignore default max 1
							if (modifier.modifier_attributes.is_toppings_group&&max==1) {
								opt.disabled = false;
							} else {
								opt.disabled = true;
							}
						} else {
							opt.disabled = false;
						}
						
					})
				}
				
			},
			showOptionPrice(modifier, selected = false) {
				
				if (!modifier || typeof modifier !== 'object') return;
				
				const { modifier_attributes, modifier_options } = modifier;
				if (!modifier_attributes || !Array.isArray(modifier_options)) return;
			
				const { max_free: maxFree = 0 } = modifier_attributes;
				const mod = this.findModifierInCart(modifier.modifier_id);
			
				let optionsSelected = 0;
			
				const hasVariationPrices = (
					this.cartForm?.menu_item_data?.variation_id &&
					this.activeProduct?.variations_modifiers &&
					typeof this.activeProduct.variations_modifiers === 'object' &&
					!Array.isArray(this.activeProduct.variations_modifiers) &&
					Object.keys(this.activeProduct.variations_modifiers).length > 0
				);
			
				const getBasePrice = (option) => {
					const attrs = option.option_attributes || {};
					return this.activeProduct?.half?.[option.option_id]
						? attrs.left_right_price
						: attrs.regular_price;
				};
			
				const applyPricingLogic = (option, isSelected) => {
					if (!option || typeof option !== 'object') return;
			
					const attrs = option.option_attributes || {};
					let price = getBasePrice(option);
			
					if (isSelected) {
						optionsSelected++;
						price = (optionsSelected <= maxFree) ? 0 : price;
					}
			
					option.activePrice = price;
			
					if (hasVariationPrices && optionsSelected > maxFree) {
						this.checkVariationPrice(modifier, option);
					}
			
					this.checkOptionFree(modifier, option);
				};
			
				if (maxFree === 0) {
					modifier_options.forEach(option => {
						option.activePrice = getBasePrice(option);
			
						if (hasVariationPrices) {
							this.checkVariationPrice(modifier, option);
						}
						this.checkOptionFree(modifier, option);
					});
					return;
				}
			
				if (Array.isArray(selected) && selected.length > 0) {
					selected.forEach(optionID => {
						const option = modifier_options.find(opt => opt.option_id === optionID);
						if (option) applyPricingLogic(option, true);
					});
				} else {
					modifier_options.forEach(option => {
						if (option.selected) {
							applyPricingLogic(option, true);
						} else {
							option.activePrice = getBasePrice(option);
						}
					});
				}
			
				// Final pass for unselected options to ensure correct pricing
				modifier_options.forEach(option => {
					if (!option.selected) {
						option.activePrice = (optionsSelected < maxFree) ? 0 : getBasePrice(option);
					}
			
					if (hasVariationPrices) {
						this.checkVariationPrice(modifier, option);
					}
					this.checkOptionFree(modifier, option);
				});
			},
			getToppingsPrice(modifier, option) {
			    const { option_attributes: attrs } = option;
			    let price = attrs.regular_price > 0 ? attrs.regular_price : 0;
			    let priceSelected = false;
			
			    const { variation_id } = this.cartForm.menu_item_data;
			    const variation = Object.keys(this.activeProduct.variations_modifiers)
			        .find(varMod => varMod === variation_id);

			    const getVariationPrice = (modifier, option, variationId) => {
			        const mod = this.activeProduct.variations_modifiers[variationId]
			            .find(varMod => varMod.modifier_id == modifier.modifier_id);
			
			        if (mod) {
			            const op = mod.options.find(opt => opt.option_id === option.option_id);
			            if (op) {
			                let calculatedPrice = this.activeProduct.half[option.option_id] ? op.half_price : op.whole_price;
			                if (this.activeProduct.extra[option.option_id]) {
			                    calculatedPrice += op.extra_price;
			                }
			                priceSelected = true; // Indicate that a variation price was applied
			                return calculatedPrice;
			            }
			        }
			        return null;
			    };
			
			    const getStandardPrice = (attrs, option) => {
			        let calculatedPrice = this.activeProduct.half[option.option_id] ? attrs.left_right_price : attrs.regular_price;
			        if (this.activeProduct.extra[option.option_id]) {
			            calculatedPrice += attrs.extra_price;
			        }
			        return calculatedPrice;
			    };

			    const getPreselectedOptionPrice = (modifier, option, variationId) => {
			        if (!this.activeProduct.modifiers_preselected_options_ids.length) {
			            return null;
			        }
			
			        const preselectedModifier = this.activeProduct.modifiers_preselected_options_ids
			            .find(mod => mod.id == modifier.modifier_id);
			
			        if (preselectedModifier) {
			            const isPreselected = preselectedModifier.pre_selected_options
			                .some(preOptId => preOptId == option.option_id);
			
			            if (isPreselected) {
			                let preselectedPrice = 0;
			                // Price will be zero unless 'extra' is selected
			                if (this.activeProduct.extra[option.option_id]) {
			                    if (variationId) {
			                        const mod = this.activeProduct.variations_modifiers[variationId]
			                            .find(varMod => varMod.modifier_id == modifier.modifier_id);
			                        if (mod) {
			                            const op = mod.options.find(opt => opt.option_id === option.option_id);
			                            if (op) {
			                                preselectedPrice += op.extra_price;
			                            }
			                        }
			                    } else {
			                        // Standard extra price for option because no variation price was set
			                        const selectedOption = modifier.modifier_options.find(o => o.option_id == option.option_id);
			                        if (selectedOption) preselectedPrice += selectedOption.option_attributes.extra_price;
			                    }
			                }
			                return preselectedPrice;
			            }
			        }
			        return null;
			    };
			
			
			    // Apply pricing logic based on variations and selections
			    if (variation) {
			        const variationPrice = getVariationPrice(modifier, option, variation);
			        if (variationPrice !== null) {
			            price = variationPrice;
			        }
			    } else {
			        // No special variation pricing set up, use standard extra price and toppings price
			        price = getStandardPrice(attrs, option);
			    }
			
			    // Check half price if variation pricing wasn't set already
			    if (this.activeProduct.half[option.option_id] && !priceSelected) {
			        price = attrs.left_right_price;
			    }
			
			    // Override price if option was pre-selected
			    const preselectedPrice = getPreselectedOptionPrice(modifier, option, variation);
			    if (preselectedPrice !== null) {
			        price = preselectedPrice;
			    }
			
			    option.activePrice = price;
			
			    // Update toppings array based on selection and price
			    const toppingIndex = this.toppings.findIndex(topping => topping.option_id == option.option_id);
			
			    if (toppingIndex !== -1) {
			        if (this.activeProduct.checkedModifiers[option.modifier_id]?.[option.option_id] !== 'none') {
			            this.toppings[toppingIndex].cartPrice = price;
			        } else {
			            this.toppings.splice(toppingIndex, 1);
			        }
			    } else {
			        if (option.selected && this.activeProduct.checkedModifiers[option.modifier_id]?.[option.option_id] !== 'none') {
			            this.toppings.push({
			                option_id: option.option_id,
			                option_name: option.option_name,
			                cartPrice: price,
			            });
			        }
			    }
			
			    // Display price ONLY for toppings modifier
			    if (price === 0) {
			        return this.freeModifierPriceText;
			    }
			
			    return `+${this.setCurrency(price)}`;
			},
			checkOptionFree( modifier, option ) {
				let preOpt
				let mod

				if ( this.activeProduct.modifiers_preselected_options_ids.length ) {
					mod = this.activeProduct.modifiers_preselected_options_ids.find(
						mod => mod.id == modifier.modifier_id
					)
				}
				// variation price set will override standard extra price
				const { variation_id } = this.cartForm.menu_item_data
				const variation 	   = Object.keys( this.activeProduct.variations_modifiers )
											   .find( varMod => varMod === variation_id )

				if ( mod ) {
					preOpt = mod.pre_selected_options.find(
						preOpt => preOpt == option.option_id
					)

					if ( preOpt ) {
						option.activePrice = 0
					}
				}
			},
			checkVariationPrice( modifier, option ) {
				
				const { max_free: maxFree, max_selected: maxSelected } = modifier.modifier_attributes
				const { variation_id } = this.cartForm.menu_item_data
				const variation 	   = Object.keys( this.activeProduct.variations_modifiers ).find( varMod => varMod === variation_id )
				
				let wholePrice
				
				if ( variation ) {
					const mod = this.activeProduct.variations_modifiers[ variation ].find(
						varMod => varMod.modifier_id == modifier.modifier_id
					)
					if ( mod ) {
						const op = mod.options.find( opt => opt.option_id === option.option_id )
						if ( op ) {
							option.activePrice = wholePrice = op.whole_price
						}
					}
				}

				// for radio buttons with 1 free choice
				if ( maxSelected === 1 && maxFree === 1 ) {
					option.activePrice = 0
				}
				
				// for checkboxes
				if ( maxSelected > 1 && maxFree > 0 ) {
					
					let mod
					
					if ( this.activeProduct.modifiers_preselected_options_ids.length ) {
						mod = this.activeProduct.modifiers_preselected_options_ids.find(
							mod => mod.id == modifier.modifier_id
						)
					}
					
					if ( !mod ) {
						const optionsSelected = modifier.modifier_options.filter( opt => opt.selected ).length
						
						let sortedOptions     = [ ...modifier.modifier_options ].sort( ( a, b ) => {
							return b.selected - a.selected
						})

						if ( optionsSelected < maxFree ) {
							option.activePrice = 0
						} else {
							let selected = 0
							sortedOptions.forEach( opt => {
								opt.selected && selected++

								if ( optionsSelected < maxFree ) {
									opt.activePrice = 0
								}
								if ( optionsSelected === maxFree ) {
									opt.activePrice = opt.selected ? 0 : wholePrice
								}
								if ( optionsSelected > maxFree ) {
									opt.activePrice = selected <= maxFree ? 0 : wholePrice
								}
							})
						}
					}
					
				}
			},
			getExtraPrice( modifier, option ) {
				
				const { variation_id } = this.cartForm.menu_item_data
				const variation 	   = Object.keys( this.activeProduct.variations_modifiers )
										       .find( varMod => varMod === variation_id )

				if ( variation ) {
					const mod = this.activeProduct.variations_modifiers[ variation ].find(
						varMod => varMod.modifier_id == modifier.modifier_id
					)

					if ( mod ) {
						const op = mod.options.find( opt => opt.option_id === option.option_id )
						if ( op ) {
							return op.extra_price > 0
								? this.setCurrency( op.extra_price )
								: this.freeModifierPriceText
						}
					}
				}

				return option.option_attributes.extra_price > 0
					? this.setCurrency( option.option_attributes.extra_price )
					: this.freeModifierPriceText
			},
			handleVariationChange( variationID ) {
                if ((this.activeProduct.modifiers ?? []).length > 0) {
                    this.activeProduct.modifiers.forEach(modifier => {
                        this.showOptionPrice(modifier)
                    })
                }
			},
			showPrices(item) {
				
				let price = this.setCurrency(item.regular_price);
				
				if ( item.variations.length ) {
					item.variations.sort( ( a, b ) => a.variation_price - b.variation_price )
					// if there is only one variation or all variations have the same price
					if ( item.variations.length === 1 || item.variations.every( ( { variation_price }, i, arr ) => variation_price === arr[0].variation_price ) ) {
						price = this.setCurrency(item.variations[0].variation_price)
					} else {
						price = `${this.setCurrency(item.variations[0].variation_price)} - ${this.setCurrency(item.variations[item.variations.length - 1].variation_price)}`
					}
				}
				
				if (ShoppingCartHelpers.isSubscriptionBased(item)) {
					price = ShoppingCartHelpers.definePrice(price,item);
				}
				
				return price;
			},
			calculatePrice(num) {
				
				// If there is a decimal weight applied
				if (this.activeProduct&&this.activeProduct.is_decimal_product===1) {
					if (this.cartForm.decimal_weight) {
						num = (this.cartForm.decimal_weight*num);
					}
				} else {
					num = (this.cartForm.quantity*num);
				}
				
				return this.setCurrency(num);
			},
			setCurrency( num ) {
				return new Intl.NumberFormat( 'en-US', { style: 'currency', currency: 'USD' }).format(num);
			},
			selectSidebarItem( categoryId ) {
				const element = `#category-section-${categoryId}`
				
				if ( element ) {
					if ( this.searchTerm ) {
						this.searchTerm = ''
						setTimeout(() => {
							this.scrollToCategory( element )
						}, 100 )
					}
					else {
						this.scrollToCategory( element )
					}
				}
				
			},
			scrollToCategory( element ) {

				// Header height by default is 0
				let headerHeight			= 0;
				
				//
				// Element references
				//
				let section 				= document.querySelector(element);
				let sectionOffest			= section.offsetTop;
				
				// Check if header is a fixed header
				let stickyHeader			= document.querySelector('.sticky-wrapper');
				let header					= document.querySelector('.site-header-wrap');
				
				// Check if horizontal menu is visible
				let horizontalMenu  		= document.querySelector('.shop-sidebar.horizontal');
				let horizontalMenuElement	= document.querySelector('#sidebar-container');
				
				// If the header is sticky get header height
				if (stickyHeader&&header) {
					headerHeight += header.offsetHeight;
				}
				
				if (horizontalMenu) {
					headerHeight += horizontalMenuElement.offsetHeight;
				}
				
				let scrollHeight = (sectionOffest-headerHeight);
				
				window.scroll({
					top:scrollHeight,
					behavior:'smooth'
				});
				
			},
			editCartItem( product ) {
				this.addToCartDialog(product,true)
			},
			updateCart( data ) {
				this.cart = data
			},
			openCartDialog( product, upsell = false ) {
				
				this.cartFormError                  		= false;
				this.cartFormErrors							= [];
				this.activeProduct     						= product;
				this.activeProduct.upsell 					= upsell;
				
				this.cartForm.id       						= this.activeProduct.id;
				this.cartForm.key                   		= '';
				this.cartForm.quantity 						= 1;
				this.cartForm.menu_item_data.notes  		= '';
				this.cartForm.menu_item_data.modifiers		= [];
				
				if (this.activeProduct.is_gift_card) {
					this.cartForm.gift_card	= {};
				}
				
				if (this.activeProduct.is_decimal_product===1) {
					this.cartForm.decimal_weight = parseFloat(this.activeProduct.minimum_weight);
				}
				
				this.toppings = []
				
				if ( this.cartForm.key ) {
					delete this.cartForm.key
				}

				if ( this.activeProduct.variations.length ) {
					const firstVariationInStock = this.activeProduct.variations.find(
						variation => variation.stock_status === 'instock'
					)
					firstVariationInStock
						? this.cartForm.menu_item_data.variation_id = firstVariationInStock.variation_id
						: this.cartForm.menu_item_data.variation_id = null
				} else {
					this.cartForm.menu_item_data.variation_id = null
				}

				if ( this.activeProduct.modifiers_groups_ids.length ) {
					this.getItemModifiers(this.activeProduct)
					this.putPreselectedModifiersInCart()
				}
				
				this.productDialogVisible = true;
				this.scrollToDialogTop();

			},
			addToCartDialog(product, edit = false, upsell = false) {
				
			    // Initialize common cart form properties
			    this.cartFormError = false;
			    this.activeProduct = { ...product, upsell }; // Use spread to avoid direct mutation of product prop
			    this.cartForm.id = this.activeProduct.id;
			    this.cartForm.quantity = 1;
			    
			    this.cartForm.menu_item_data = {
			        notes: '',
			        modifiers: []
			    };
			    
			    this.toppings = [];
			
			    // Handle gift card specific initialization
			    if (this.activeProduct.is_gift_card) {
			        this.cartForm.gift_card = {};
			    }

			    // Clear cartForm.key if it exists (for new additions)
			    if (this.cartForm.key) {
			        delete this.cartForm.key;
			    }
			
			    if (edit) {
			        this.handleEditCartItem(product);
			    } else {
			        this.handleNewCartItem(product, upsell);
			    }
			},
			// --- Helper Functions ---
			/**
			 * Handles the logic for editing an existing item in the cart.
			 * @param {object} product - The product object from the cart to be edited.
			 */
			handleEditCartItem(product) {
				
			    const { key, quantity, item_data } = product;
			    const menuItem = this.menuItems.find(item => item.id === product.id);
			
			    if (!menuItem) {
			        console.warn('Menu item not found for editing:', product);
			        return;
			    }
				
			    this.activeProduct = { ...menuItem, editing: true };
			    this.getItemModifiers(this.activeProduct); // Assuming this populates activeProduct.modifiers
			
			    this.cartForm.key = key;
			    this.cartForm.quantity = quantity;
			
			    this.processDecimalProductWeight(item_data);
			    this.processCartItemVariation(item_data);
			    this.processCartItemModifiers(item_data);
			    this.processCartItemNotes(item_data);
			    
			    // New: Process Gift Card details if applicable
			    if (this.activeProduct.is_gift_card) {
			        this.processGiftCardDetails(item_data);
			    }
    
			    this.showCart = false; // Close sidebar if open
			
			    // Delay opening the dialog to prevent rendering issues
			    setTimeout(() => this.productDialogVisible = true, 200);
			    
			},
			/**
			 * Processes the decimal weight for products that support it.
			 * @param {Array} item_data - The item_data array from the cart product.
			 */
			processDecimalProductWeight(item_data) {
			    if (this.activeProduct.is_decimal_product === 1) {
			        const weightItem = item_data.find(item => item.key === 'Weight');
			        this.cartForm.decimal_weight = parseFloat(weightItem?.display) || parseFloat(this.activeProduct.minimum_weight);
			    }
			},
			processCartItemVariation(item_data) {
		        // Preserve variation ID
		        const cartItemVariationID = item_data.find(item => item.key === 'Type');
		        if (cartItemVariationID && cartItemVariationID.id) {
		            this.cartForm.menu_item_data.variation_id = cartItemVariationID.id;
		        }
			},
			/**
			 * Processes and sets up modifiers for an edited cart item.
			 * @param {Array} item_data - The item_data array from the cart product.
			 */
			processCartItemModifiers(item_data) {
			    const firstItemData = item_data && item_data[0];
			    
			    if (firstItemData && firstItemData.modifiers) {
			        let cartModifiers = typeof firstItemData.modifiers === 'string'
			            ? JSON.parse(firstItemData.modifiers)
			            : firstItemData.modifiers;
			
			        // Convert object of modifiers to an array if necessary
			        this.cartForm.menu_item_data.modifiers = Array.isArray(cartModifiers)
			            ? cartModifiers
			            : Object.values(cartModifiers);
			
			        this.selectItemModifiersOnEdit(); // Assuming this selects modifiers in the UI
					
			        // Update modifier prices and states based on current selection
			        this.cartForm.menu_item_data.modifiers.forEach(mod => {
			            const modifier = this.findModifier(mod.modifier_id);
			            if (modifier) {
			                modifier.modifier_options.forEach(option => {
			                    this.checkVariationPrice(modifier, option);
			                    // Check for multi-select modifiers and update their state
			                    if (modifier.modifier_attributes.max_selected !== 1 || modifier.modifier_attributes.min_selected !== 1) {
			                        this.modifierState(option.selected, modifier, option);
			                    }
			                });
			            }
			        });
			    }
			},
			getModifierData(modifier) {
				return modifier
			},
			/**
			 * Processes and sets up notes for an edited cart item.
			 * @param {Array} item_data - The item_data array from the cart product.
			 */
			processCartItemNotes(item_data) {
			    const cartItemNote = item_data.find(item => item.key === 'Notes');
			    if (cartItemNote && cartItemNote.display) {
			        this.cartForm.menu_item_data.notes = cartItemNote.display;
			    }
			},
			/**
			 * Handles the logic for adding a new item to the cart.
			 * @param {object} product - The product object to be added.
			 * @param {boolean} upsell - Indicates if the product is an upsell item.
			 */
			handleNewCartItem(product, upsell) {
			    if (!this.activeProduct.variations.length && !this.activeProduct.modifiers_groups_ids.length) {
			        this.addSimpleProductToCart(product, upsell);
			    } else {
			        this.openCartDialog(product, upsell);
			    }
			},
			/**
			 * Processes and sets up gift card specific data.
			 * Assumes item_data contains objects with 'key' and 'value' for gift card fields.
			 * @param {Array} item_data - The item_data array from the cart product.
			 */
			processGiftCardDetails(item_data) {
				
			    // Define the mapping from item_data key to cartForm.gift_card key
			    const giftCardKeyMap = {
			        'To': 'wc_gc_giftcard_to',
			        'From': 'wc_gc_giftcard_from',
			        'Message': 'wc_gc_giftcard_message'
			    };

			    // Initialize gift_card object if it doesn't exist (though it should be from initial setup)
			    if (!this.cartForm.gift_card) {
			        this.cartForm.gift_card = {};
			    }
			
			    // Iterate through the item_data to find and map relevant gift card fields
			    item_data.forEach(item => {
			        const mappedKey = giftCardKeyMap[item.key];
			        if (mappedKey) {
			            this.cartForm.gift_card[mappedKey] = item.value;
			        }
			    });
			
			    Object.values(giftCardKeyMap).forEach(key => {
			        if (typeof this.cartForm.gift_card[key] === 'undefined') {
			            this.cartForm.gift_card[key] = '';
			         }
			    });
			},
			selectItemModifiersOnEdit() {
			    const { cartForm, activeProduct } = this;
			    const { modifiers: cartModifiers } = cartForm.menu_item_data;
			
			    // If there are no modifiers in the cart, there's nothing to process.
			    if (!cartModifiers.length) {
			        // return;
			    }
			
			    activeProduct.half = {};
			    activeProduct.extra = {};
			
			    this.processCartModifiers(cartModifiers, activeProduct);
			    this.setModifierControlValues(activeProduct, cartForm);
			},
			/**
			 * Processes modifiers from the cart and updates the active product's state.
			 * @param {Array} cartModifiers - Modifiers from the cart.
			 * @param {Object} activeProduct - The currently active product.
			 */
			processCartModifiers(cartModifiers, activeProduct) {
			    cartModifiers.forEach(cartMod => {
			        if (!cartMod) return;
			
			        const productMod = activeProduct.modifiers.find(
			            pm => pm.modifier_id === cartMod.modifier_id
			        );
			
			        if (!productMod) return; // Should ideally not happen if data is consistent
			
			        productMod.shown = true;
			
			        cartMod.options.forEach(cartOption => {
			            const productModOption = productMod.modifier_options.find(
			                pmo => pmo.option_id === cartOption.option_id
			            );
			
			            if (!productModOption) return; // Should ideally not happen
			
			            if (productModOption.option_attributes.show_quantity) {
			                productModOption.quantity = cartOption.quantity || 1;
			            }
			            productModOption.selected = true;
			            activeProduct.extra[cartOption.option_id] = !!cartOption.extra;
			            activeProduct.half[cartOption.option_id] = cartOption.side || false;
			        });
			    });
			},
			/**
			 * Sets the values for checkboxes and radio buttons based on cart data.
			 * @param {Object} activeProduct - The currently active product.
			 * @param {Object} cartForm - The cart form data.
			 */
			setModifierControlValues(activeProduct, cartForm) {
			    activeProduct.modifiers.forEach(modifier => {
			        if (modifier.modifier_attributes.is_toppings_group) {
			            this.handleToppingsGroup(modifier, cartForm, activeProduct);
			        } else {
			            this.handleStandardModifier(modifier, activeProduct);
			        }
			        this.showOptionPrice(modifier);
			    });
			},
			/**
			 * Handles the logic for a topping group modifier.
			 * @param {Object} modifier - The current modifier being processed.
			 * @param {Object} cartForm - The cart form data.
			 * @param {Object} activeProduct - The currently active product.
			 */
			handleToppingsGroup(modifier, cartForm, activeProduct) {
			    const cartMod = cartForm.menu_item_data.modifiers.find(
			        cm => cm.modifier_id === modifier.modifier_id
			    );
			
			    // Initialize all topping options for this modifier to 'none'
			    if (!activeProduct.checkedModifiers[modifier.modifier_id]) {
			        activeProduct.checkedModifiers[modifier.modifier_id] = {};
			    }
			    modifier.modifier_options.forEach(option => {
			        activeProduct.checkedModifiers[modifier.modifier_id][option.option_id] = 'none';
			    });
			
			    // Mark selected toppings that were in the cart
			    if (cartMod) {
			        cartMod.options.forEach(cartOption => {
			            const side = cartOption.side || 'whole';
			            activeProduct.checkedModifiers[modifier.modifier_id][cartOption.option_id] = side;
			        });
			    }
			
			    this.showPizzaImages();
			    // Assuming getToppingsPrice needs to be called for each option in the group
			    modifier.modifier_options.forEach(option => {
			        this.getToppingsPrice(modifier, option);
			    });
			},
			/**
			 * Handles the logic for a standard (non-topping group) modifier.
			 * @param {Object} modifier - The current modifier being processed.
			 * @param {Object} activeProduct - The currently active product.
			 */
			handleStandardModifier(modifier, activeProduct) {
			    let selected = [];
			    modifier.modifier_options.forEach(option => {
			        if (option.selected) {
			            if (modifier.modifier_attributes.max_selected > 1) { // Checkbox
			                selected.push(option.option_id);
			            } else { // Radio button
			                selected = option.option_id;
			            }
			        }
			    });
			    activeProduct.checkedModifiers[modifier.modifier_id] = selected;
			},
			getItemModifiers( activeProduct ) {
				
				activeProduct.checkedModifiers = []
				activeProduct.extra            = {}
				activeProduct.half             = {}

				if ( activeProduct.modifiers_groups_ids.length ) {
					
					activeProduct.modifiers = activeProduct.modifiers_groups_ids.map( modID => {
						const modifier = this.modifiers.find(group => group.modifier_id == modID);
						
						if ( modifier ) {
							
							if (modifier.disabled) {
								modifier.disabled = false;	
							}
							
							modifier.modifier_options.forEach( option => {
								option.activePrice = option.option_attributes.regular_price
								if ( option.option_attributes.has_extra ) {
									activeProduct.extra[ option.option_id ] = false
								}
								if ( option.option_attributes.has_left_right ) {
									activeProduct.half[ option.option_id ] = false
								}
							})
							
							if (!modifier.modifier_attributes.is_conditional) {
								modifier.shown = true
							}
							
							return modifier
						}
						
					})

					// remove any undefined modifiers
					for ( let index = activeProduct.modifiers.length - 1; index >= 0; index-- ) {
						const element = activeProduct.modifiers[index];
						if (!element) {
							activeProduct.modifiers.splice(index,1)
						}
					}
					
				} else {
					activeProduct.modifiers = []
				}
				
			},
			addSimpleProductToCart( product, upsell ) {
				
				this.quickAddToCart = product.id
				
				const menuItemData  = {
					variation_id: null,
					modifiers: [],
					notes: '',
					is_upsell: upsell,
				}
				
				const data = {
					id: product.id,
					quantity: 1,
					menu_item_data: menuItemData
				}
				
				helpers.addCartItem( data, this.nonce )
					.then( response => {
						const { data, status } = response
						if ( status === 201 ) {
							// helpers.showSuccessNotification( `${ product.name } added to cart` )
							this.cartKey++
							this.cart     = data
							if ( !upsell ) {
								this.showCart = true
							}
							else {
								this.upsellProductPurchasedID = product.id
								setTimeout(() => {
									this.upsellProductPurchasedID = null
								}, 2000 )
							}
						} else {
							helpers.showErrorNotification( `Failed to add to cart. Please try again.` )
						}
					})
					.finally( 
						() => this.quickAddToCart = null 
					)

			},
			findModifier(id) {
				const modifier = this.activeProduct.modifiers.find(
					modifier => modifier.modifier_id === id
				)
				return modifier;
			},
			findModifierInCart(id) {
				const modifier = this.cartForm.menu_item_data.modifiers.find(
					modifier => modifier.modifier_id === id
				)
				return modifier;
			},
			onCrossSellDialogClose() {
				this.showCart = true;
				this.crossSells.products = [];
			},
			groupArraysIntoChunks(inputArray, chunkSize) {
			    // Ensure we only group up to the desired chunk size (e.g., 4).
			    chunkSize = Math.max(chunkSize, 1); // Avoid invalid chunk sizes.
			    const result = [];
			    for (let i = 0; i < inputArray.length; i += chunkSize) {
			        result.push(inputArray.slice(i, i + chunkSize));
			    }
			    return result;
			},
			getCrossSellProducts() {
			    // Filter and map cross-sell products based on active product's cross_sell_ids
			    const crossSellProducts = this.activeProduct.cross_sell_ids
			        .map(crossSellId => this.menuItems.find(product => product.id === crossSellId))
			        .filter(product => product !== undefined); // Remove any undefined results if ID not found
			        
			    // Group products into chunks based on device width for display
			    const chunkSize = this.deviceInformation.width <= 480 ? 2 : 4;
			    this.crossSells.products = this.groupArraysIntoChunks(crossSellProducts, chunkSize);
			
			    // Determine whether to show the cross-sell dialog
			    // It should be true by default unless there are no products or an upsell dialog is already visible
			    this.crossSells.dialog = this.crossSells.products.length > 0 && !this.upsellDialogVisible;
			
			    return this.crossSells.dialog;
			},
			onItemAddedToCart(data) {
				
			    // Update cart data and close product-related dialogs
			    this.cartKey++;
			    this.cart = data;
			    this.showCart = false; 
			    this.productDialogVisible = false;
			
			    // Determine next UI action based on cross-sells and upsells
			    const hasCrossSellsToShow = this.crossSells && this.crossSells.dialog;
			    const hasGetCrossSellProducts = this.getCrossSellProducts(); // Assuming this checks for available cross-sells
			
			    if (!hasCrossSellsToShow && !hasGetCrossSellProducts) {
			        // If no cross-sell dialog or products, check for upsells
			        if (this.upsells && this.upsells.visibility === "before-cart-drawer") {
			            this.upsellDialogVisible = true; // Show upsell dialog
			        } else {
			            this.showCart = true; // Otherwise, show the cart
			        }
			    }
			
			    // Temporarily store the ID of the purchased product for upsell logic
			    this.upsellProductPurchasedID = this.activeProduct.id;
			
			    // Clear the purchased product ID after a short delay
			    setTimeout(() => {
			        this.upsellProductPurchasedID = null;
			    }, 2000);
			    
			},
			async addItemsToCart() {
			    // Dismiss any alcohol-related dialog if it's open
			    if (this.alcoholDialogVisible) {
			        this.alcoholDialogVisible = false;
			    }
			
			    // Set loading state to true while items are being added to the cart
			    this.addingItemsToCart = true;
			
			    // Ensure quantity is 1 for decimal products
			    if (this.activeProduct.is_decimal_product === 1) {
			        this.cartForm.quantity = 1;
			    }
			
			    let cartResponse;
			    
			    try {
			        // Determine whether to update an existing item or add a new one
			        if (this.activeProduct.editing) {
			            cartResponse = await helpers.updateCartItem(this.cartForm, this.nonce);
			        } else {
			            cartResponse = await helpers.addCartItem(this.cartForm, this.nonce);
			        }
			
			        const { data, status } = cartResponse;
			
			        // Handle successful API responses
			        if (status === 201 || status === 200) {
			            this.onItemAddedToCart(data);
			            // Clear active modifiers if they exist
			            if (this.activeProduct.modifiers) {
			                this.clearActiveModifiers();
			            }
			        } else {
			            // Construct an appropriate error message based on the action
			            const message = this.activeProduct.editing
			                ? 'Failed to update cart item. Please try again.'
			                : 'Failed to add to cart. Please try again.';
			            helpers.showErrorNotification(message);
			        }
			    } catch (error) {
			        // Catch any unexpected errors during the API call
			        console.error('Error adding/updating cart item:', error);
			        helpers.showErrorNotification('An unexpected error occurred. Please try again.');
			    } finally {
			        // Always reset cartForm.key and loading state, regardless of success or failure
			        delete this.cartForm.key;
			        this.addingItemsToCart = false;
			    }
			    
			},
			scrollToDialogTop() {
				const scrollOffset	= 0;
				setTimeout(function() {
					const productDialog	= document.querySelector('.product-dialog');
					if (productDialog) {
						const dialogBody = productDialog.querySelector('.el-dialog__body');
						dialogBody.scrollTo({top: 0,behavior: 'smooth'});
					}
				},50)
			},
			showUpsellModifiers() {
				if (this.activeProduct.has_modifiers_upsells&&!this.activeProduct.show_modifier_upsells) {
					this.activeProduct.show_modifier_upsells = true;
					this.scrollToDialogTop();
				} else {
					if (this.activeProduct.is_alcohol_product) {
						this.showAlcoholAlert()
					} else {
						this.addItemsToCart();
					}
				}
				
			},
			countOptionsWithSpecificAttribute(modifier, attributeName) {
			    if (!modifier || !modifier.modifier_options) {
			        return 0;
			    }
			    const count = modifier.modifier_options.filter(option =>
			        option && option[attributeName]
			    ).length;
			    return count;
			},
			getModifiers() {
				
			    // If there are no modifiers, nothing to process. Return an empty array.
			    if (!this.activeProduct.modifiers || this.activeProduct.modifiers.length === 0) {
			        return [];
			    }
			
			    // Initialize the product-level upsell flag to false
			    // It will be set to true if any modifier option has an upsell.
			    this.activeProduct.has_modifiers_upsells = false;
			
			    // Use `for...of` loop for potentially better performance with arrays,
			    // and clearer intent when iterating over iterable objects.
			    for (const modifier of this.activeProduct.modifiers) {
			    	
			        // Reset flags for the current modifier
			        modifier.select_all 	= false;
			        modifier.has_upsells	= false; // Assume no upsells for this modifier initially
				
			        // If a modifier has no options, skip further processing for it
			        if (!modifier.modifier_options || modifier.modifier_options.length === 0) {
			            modifier.total_selected = 0;
			            continue; // Move to the next modifier
			        }
					
			        let currentModifierSelectedCount = 0;
			        let foundUpsellInModifier = false;
			
			        // Iterate through options once to calculate selected count and check for upsells
			        for (const option of modifier.modifier_options) {
			            // Check for selected option
			            if (option.selected) {
			            	if (option.quantity) {
			            		currentModifierSelectedCount += option.quantity;
			            	} else {
				                currentModifierSelectedCount +=1;
			            	}
			            }
			            // Check for upsell attribute
			            if (option.option_attributes && option.option_attributes.is_upsell) {
			                foundUpsellInModifier = true;
			            }
			        }
					
			        modifier.total_selected = currentModifierSelectedCount;
					
			        // Determine if all options are selected
			        if (modifier.modifier_attributes.select_all_button) {
			        	modifier.select_all = modifier.total_selected >= modifier.modifier_options.length;
			        }
			        
			        // Update upsell flags based on findings
			        if (foundUpsellInModifier) {
			            this.activeProduct.has_modifiers_upsells = true; // At least one product modifier has an upsell
			            modifier.has_upsells = true; // This specific modifier has an upsell
			        }
			        
			    }
			
			    return this.activeProduct.modifiers;
			},
			validEmail(email) {
				const re = /\S+@\S+\.\S+/;
				return re.test(email);
			},
			validateItems() {
				
				const { menu_item_data } = this.cartForm
				
				this.cartFormError     = false
				this.cartFormErrors    = {}
				
				// remove any modifiers that have empty options before adding to the cart
				for ( let i = menu_item_data.modifiers.length - 1; i >= 0; i-- ) {
					const cartMod = this.findModifier(menu_item_data.modifiers[i].modifier_id);
					let menu_item_modifiers = menu_item_data.modifiers[i];
					if ((!menu_item_modifiers.options.length || !menu_item_modifiers.modifier_id ) && !cartMod.modifier_attributes?.is_required) {
						menu_item_data.modifiers.splice(i,1)
					}
				}

				// If product being add to cart is an upsell item
				menu_item_data.is_upsell = this.activeProduct.upsell
				
				// validate if required modifiers have been left blank
				// && validate modifiers selected
				if ( menu_item_data.modifiers.length ) {
					this.activeProduct.modifiers.forEach(
						modifier => this.validateModifiersBlank(modifier)
					)
					menu_item_data.modifiers.forEach( modifier => {
						if (modifier.modifier_id ) {
							this.validateModifiersSelected(modifier);
						}
					})
				}
				
				if (this.activeProduct.is_gift_card) {
					if (!this.validEmail(this.cartForm.gift_card.wc_gc_giftcard_to)) {
						this.cartFormError = true;
						this.cartFormErrors.wc_gc_giftcard_to = {
							error:"Please enter the recipient's email address to send the gift card.",
							hasError:true
						}
					}
					if (!this.cartForm.gift_card.wc_gc_giftcard_from) {
						this.cartFormError = true;
						this.cartFormErrors.wc_gc_giftcard_from = {
							error:"Please enter your name so the recipient knows who the gift is from.",
							hasError:true
						}
					}
				}
				
				if (this.cartFormError) {
					this.addingItemsToCart = false
					this.scrollToFirstError()
				} else {
					this.showUpsellModifiers();
				}
				
			},
			clearActiveModifiers() {
				// Clear out previously selected modifiers from product
				if ( this.activeProduct.modifiers ) {
					this.activeProduct.modifiers.forEach( modifier => {
						modifier.shown = false
						modifier.modifier_options.forEach( option => {
							option.checked  = false
							option.selected = false
							option.disabled = false
						})
					})
				}
				// Show defualt product dialog screen
				this.activeProduct.show_modifier_upsells = false;
			},
			handleShowCart() {
				this.cartKey++
				this.showCart = true
			},
			truncateString( str, limit ) {
				
				str = this.decodeHTMLEntities( str );
				
				const [ ...strSplit ] = str
				let count   		  = 0
				let newString 		  = ''
				
				for ( const char of strSplit ) {
					count++
					if ( count < limit ) {
						newString += char
					}
					else {
						newString += '...'
						break
					}
				}
				
				return newString
			},
			goToCheckout() {
				
				if ( this.upsellItems.length && !this.upsellDialogShown && this.upsells.visibility == "before-checkout") {
					this.showCart            = false
					this.upsellDialogVisible = true
					this.upsellDialogShown   = true
				} else {
					window.location.href = '/checkout'
				}
				
			},
			continueToCheckout() {
				
				if (this.upsells.visibility == "before-checkout") {
					window.location.href = '/checkout'
				} else {
					this.showCart				= true;
					this.upsellDialogVisible	= false;
				}
				
			},
			decodeHTMLEntities( text ) {
				let textArea       = document.createElement( 'textarea' )
				textArea.innerHTML = text
				return textArea.value
			},
			checkActivePrice( modifier, option ) {
				
				// If option isn't selected reset quantity
				if (!option.selected&&option.quantity) {
					option.quantity = 1;
				}
				
				let price = option.activePrice
				const mod = this.findModifierInCart(modifier.modifier_id);

				if ( mod ) {
					const opt = mod.options.find(
						opt => opt.option_id === option.option_id
					)
					if ( opt ) {
						price = opt.price
					}
				}
				
				if (option.quantity) {
					price = (price*option.quantity);
				}
				
				return price > 0 ? '+'+this.setCurrency( price ) : this.freeModifierPriceText
				
			},
		},
		computed: {
			filteredItems() {
				
	            const searchTermLower	= this.searchTerm.trim().toLowerCase();
	            const hasSearchTerm 	= searchTermLower !== '';
	            const hasDietaryOptions = this.selectedDietaryOptions.length > 0;
	            const filterByBoth		= hasSearchTerm && hasDietaryOptions;
	            
	            return this.menuItems.filter(item => {
	                if (filterByBoth) {
	                    return item.name.toLowerCase().includes(searchTermLower) && this.selectedDietaryOptions.some(option => item.dietary_options.includes(option));
	                } else if (hasSearchTerm) {
	                    return item.name.toLowerCase().includes(searchTermLower);
	                } else if (hasDietaryOptions) {
	                    return this.selectedDietaryOptions.some(option => item.dietary_options.includes(option));
	                }
	            }).sort(this.sortByName);
	            
	        },
			activeProductPrice() {
				
				const { activeProduct, cartForm } = this
				let total = 0
				let toppingsID
				
				if ( activeProduct.variations.length ) {
					const variationSelected = activeProduct.variations.find(
						variation => variation.variation_id === cartForm.menu_item_data.variation_id
					)
					if (variationSelected) {
						total += variationSelected.variation_price
					}
				} else {
					total += +activeProduct.regular_price
				}
				
				// If there is a decimal weight applied
				if (this.activeProduct&&this.activeProduct.is_decimal_product===1) {
					if (this.cartForm.decimal_weight) {
						total = (this.cartForm.decimal_weight*total);
					}
				}

				if ( activeProduct.modifiers ) {

					if ( activeProduct.modifiers_groups_ids.length ) {
						activeProduct.modifiers.forEach( modifier => {
							
							if ( modifier.shown ) {
								modifier.modifier_options.forEach( option => {
									if ( option.selected ) {
										
										if (activeProduct.is_pizza_product&&modifier.modifier_attributes.is_toppings_group ) {
											toppingsID = modifier.modifier_id
										} else {
											if (option.quantity) {
												total += (option.activePrice*option.quantity);
											} else {
												total += option.activePrice;
											}
										}
										
										const cartMod = this.findModifierInCart(modifier.modifier_id);

										if ( cartMod ) {
											const cartOption = cartMod.options.find( cartOpt =>
												cartOpt.option_id === option.option_id
											)
											if ( cartOption ) {
												cartOption.price = option.activePrice
											}
											if (option.quantity) {
												cartOption.quantity = option.quantity;
											}
										}
										
									}
								})
							}
							
						})
						
					}
					
				
					if ( Object.keys( activeProduct.half ).length ) {
						Object.keys( activeProduct.half ).forEach( optionID => {
							let preOpt

							if ( activeProduct.modifiers_preselected_options_ids.length ) {
								this.activeProduct.modifiers.forEach( modifier => {
									const mod = activeProduct.modifiers_preselected_options_ids.find(
										mod => mod.id == modifier.modifier_id
									)

									if ( mod ) {
										preOpt = mod.pre_selected_options.find(
											preOpt => preOpt == optionID
										)
									}
								})
							}

							// Only change price to left_right price if option was not preselected
							if ( activeProduct.half[ optionID ] && !preOpt ) {
								let halfPrice 		   = 0
								let halfPriceSet       = false
								const { variation_id } = this.cartForm.menu_item_data
								const variation 	   = Object.keys( this.activeProduct.variations_modifiers )
															.find( varMod => varMod === variation_id )

								if ( variation ) {
									let modifier
									this.activeProduct.modifiers.forEach( m => {
										m.modifier_options.forEach( o => {
											if ( o.option_id == optionID ) {
												modifier = m
											}
										})
									})

									if ( modifier ) {
										const mod = this.activeProduct.variations_modifiers[ variation ].find(
											varMod => varMod.modifier_id == modifier.modifier_id
										)

										if ( mod ) {
											const op = mod.options.find( opt => opt.option_id === optionID )

											if ( op ) {
												halfPrice    = op.half_price
												halfPriceSet = true
											}
										}
									}
								}

								const foundOption = this.modifier_options.find(
									option => option.option_id == optionID
								)

								if ( !halfPriceSet ) {
									halfPrice = foundOption.option_attributes.left_right_price
								}

								this.cartForm.menu_item_data.modifiers.forEach( cartMod => {
									const activeModifier = activeProduct.modifiers.find(
										mod => mod.modifier_id === cartMod.modifier_id
									)
									if ( cartMod.options.length ) {
										cartMod.options.forEach( cartOption => {
											if ( cartOption.option_id === foundOption.option_id ) {
												if ( !activeModifier.modifier_attributes.is_toppings_group ) {
													cartOption.price = halfPrice
													total -= foundOption.activePrice
													total += halfPrice
												}
											}
										})
									}
								})
								
							}
						})
					}

					if ( Object.keys( activeProduct.extra ).length ) {
						
						Object.keys( activeProduct.extra ).forEach( optionID => {
							let preOpt
							const foundOption = this.modifier_options.find(
								option => option.option_id == optionID
							)
							let extraPrice 		   = 0
							let extraPriceSet      = false
							const { variation_id } = this.cartForm.menu_item_data
							const variation 	   = Object.keys( this.activeProduct.variations_modifiers )
															.find( varMod => varMod === variation_id )
							if ( activeProduct.modifiers_preselected_options_ids.length ) {
								
								this.activeProduct.modifiers.forEach( modifier => {
									const mod = activeProduct.modifiers_preselected_options_ids.find(
										mod => mod.id == modifier.modifier_id
									)

									if ( mod ) {
										preOpt = mod.pre_selected_options.find(
											preOpt => preOpt == optionID
										)
									}
								})
								
							}

							// not a pre_selected option
							if ((activeProduct.extra[optionID]&&!preOpt)) {
								if ( variation ) {
									let modifier
									this.activeProduct.modifiers.forEach( m => {
										m.modifier_options.forEach( o => {
											if ( o.option_id == optionID ) {
												modifier = m
											}
										})
									})

									if ( modifier ) {
										const mod = this.activeProduct.variations_modifiers[ variation ].find(
											varMod => varMod.modifier_id == modifier.modifier_id
										)

										if ( mod ) {
											const op = mod.options.find( opt => opt.option_id === optionID )
											if ( op ) {
												extraPrice    = op.extra_price
												extraPriceSet = true
											}
										}
									}
								}

								if ( !extraPriceSet ) {
									extraPrice = foundOption.option_attributes.extra_price
								}

								this.cartForm.menu_item_data.modifiers.forEach( cartMod => {
									
									const activeModifier = activeProduct.modifiers.find(
										mod => mod.modifier_id === cartMod.modifier_id
									)
									
									if ( cartMod.options.length ) {
										cartMod.options.forEach( cartOption => {
											if ( cartOption.option_id === foundOption.option_id ) {
												if ( !activeModifier.modifier_attributes.is_toppings_group ) {
													cartOption.price += extraPrice
													if (foundOption.quantity) {
														total += (extraPrice*foundOption.quantity);
													} else {
														total += extraPrice;
													}
												}
											}
										})
									}
									
								})

							}

							// pre-selected modifier options base price is free but extra costs money
							if ( activeProduct.extra[ optionID ] && preOpt ) {
								if ( variation ) {
									let modifier
									this.activeProduct.modifiers.forEach( m => {
										m.modifier_options.forEach( o => {
											if ( o.option_id == optionID ) {
												modifier = m
											}
										})
									})

									if ( modifier ) {
										const mod = this.activeProduct.variations_modifiers[ variation ].find(
											varMod => varMod.modifier_id == modifier.modifier_id
										)

										if ( mod ) {
											const op = mod.options.find( opt => opt.option_id === optionID )

											if ( op ) {
												extraPrice    = op.extra_price
												extraPriceSet = true
											}
										}
									}
								}

								if ( !extraPriceSet ) {
									extraPrice = foundOption.option_attributes.extra_price
								}

								this.cartForm.menu_item_data.modifiers.forEach( cartMod => {
									const activeModifier = activeProduct.modifiers.find(
										mod => mod.modifier_id === cartMod.modifier_id
									)
									if ( cartMod.options.length ) {
										cartMod.options.forEach( cartOption => {
											if ( cartOption.option_id === foundOption.option_id ) {
												if ( !activeModifier.modifier_attributes.is_toppings_group ) {
													
													cartOption.price = extraPrice

													if (foundOption.quantity) {
														total += (extraPrice*foundOption.quantity);
													} else {
														total += extraPrice;
													}
													
												}
											}
										})
									}
								})
								
							}
						})
					}
				}

				// calculate toppings prices
				if ( this.toppings.length ) {
					const cartToppings = this.findModifierInCart(toppingsID);

					if ( cartToppings ) {
						this.toppings.forEach( topping => {
							const cartTopping = cartToppings.options.find( o => o.option_id === topping.option_id )
							if ( cartTopping ) {
								cartTopping.price = topping.cartPrice
							}
						})

						const toppingTotal = this.toppings.reduce( ( acc, el ) => {
							return acc + el.cartPrice
						}, 0 )
						
						total += toppingTotal
						
					}
				}
				
				total *= cartForm.quantity

				return total
			},
			cartItemsCount() {
				return Object.keys( this.cart ).length && !this.retrievingCart
					? this.cart.items.reduce( ( acc, item ) => acc + item.quantity, 0 )
					: 0
			},
			cartTotals() {
				return Object.keys( this.cart ).length && !this.retrievingCart
					? this.setCurrency( this.cart.totals.total_items * .01 )
					: this.setCurrency( 0 )
			},
		},
	})
	
	app.use( ElementPlus )
	
	for ( const [ key, component ] of Object.entries( ElementPlusIconsVue ) ) {
		app.component( key, component )
	}
	
	app.component( 'sidebar-menu', SidebarMenu )
	app.component( 'shopping-cart', ShoppingCart )
	app.mount( '#vue-app' )
	
    window.app = app;
    
	</script>

</div> <!-- /#content -->


<style>
    .footer * {
        color: #ffffff;
    }
    .footer a:hover {
        color: #ffffff;
        text-decoration: underline;
    }
    .footer-zip-codes {

        @media(min-width: 992px) {
            border-left: 1px solid #ffffff;
            padding-left: 3rem;
        }
    }
</style>

<footer class="footer">
    <div class="top-footer section-padding" style="background-color: #ffffff;">
        <div class="col-full">
            <div class="grid">
                <div>
                    <a href="https://dantestrattoria.com/" class="custom-logo-link" rel="home"><img width="110" height="110" src="https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated.jpg" class="custom-logo" alt="Dante&#8217;s Trattoria" decoding="async" srcset="https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated.jpg 110w, https://dantestrattoria.com/wp-content/uploads/2025/06/cropped-Dantes-Updated-100x100.jpg 100w" sizes="(max-width: 110px) 100vw, 110px" /></a>                </div>
                <div class="footer-nav">
                    <ul id="menu-footer-menu" class="menu"><li id="menu-item-3191" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item menu-item-3191"><a href="https://dantestrattoria.com/shop/" aria-current="page">Menu</a></li>
<li id="menu-item-1211" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1211"><a href="https://dantestrattoria.com/my-account/">My Account</a></li>
<li id="menu-item-622" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-622"><a href="https://dantestrattoria.com/about-us/">About Us</a></li>
</ul>                </div>
                <div class="footer-zip-codes">
            
                                
                        <p><strong>Stay Connected:</strong></p>
                        <div class="socials">
                                                            <a href="https://www.instagram.com/dantesofmahopac/?hl=en" target="_blank" rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#ffffff" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>                    </a>
            
                                                            <a href="https://www.facebook.com/dantesofmahopac/" target="_blank" rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#ffffff" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"/></svg>                    </a>
            
                                                    </div>
            
                                
                </div>
            </div>
        </div>
    </div>
        <div class="bottom-footer">
        <div class="col-full">
            <div class="text-center">
                <a href="https://getpromenade.com">
                    <img src="/wp-content/themes/restaurants-20/images/PoweredBy-Promenade-horizontal-black.png" alt="powered by promenade">
                </a>
            </div>
            <p class="bottom-footer__copyright text-center">
                Copyright &copy; 2025 Dante's Trattoria All Rights Reserved. <a href="/privacy-policy/">Privacy Policy</a> | <a href="/terms-conditions/">Terms and Conditions</a> | <a href="/accessibility/">Accessibility</a>
            </p>
        </div>
    </div>
</footer>

</div><!-- #page -->


		<script>
			window.RS_MODULES = window.RS_MODULES || {};
			window.RS_MODULES.modules = window.RS_MODULES.modules || {};
			window.RS_MODULES.waiting = window.RS_MODULES.waiting || [];
			window.RS_MODULES.defered = false;
			window.RS_MODULES.moduleWaiting = window.RS_MODULES.moduleWaiting || {};
			window.RS_MODULES.type = 'compiled';
		</script>
		<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/restaurants-20\/*","\/wp-content\/themes\/pizzaro\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
            <style id="shop_closed_notification_style">
            
                body.store-has-status #shop_closed_notification_wrap {
                    display: block !important;
                }

                body.store-has-status #shop_closed_notification {
                    position: fixed;
                    width: 100%;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    display: block;
                    background: #3d9cd2;
                    padding: 10px 10px;
                    text-align: center;
                    font-size: 13px;
                    font-weight: bold;
                    color: #fff;
                    z-index: 8;
                }

                body.store-has-status .pizzaro-handheld-footer-bar {
                    margin-bottom: 4.9rem;
                }

                body.store-has-status footer.footer-v2 + .site-info {
                    padding-bottom: 5em;
                }

                #close-shop-notification {
                    background-color: transparent;
                    margin-left: 3rem;
                    border: 1px solid #CCC;
                    border-radius: 3px;
                    padding: 0 0.8rem;
                }

                @media (max-width: 499px) {
                    body.store-has-status .pizzaro-handheld-footer-bar {
                        margin-bottom: 7.6rem;
                    }
                }

                @media (max-width: 406px) {
                    body.store-has-status .pizzaro-handheld-footer-bar {
                        margin-bottom: 7.6rem;
                    }

                    body.store-has-status footer.footer-v2 + .site-info {
                        margin-bottom: 7.6rem;
                    }
                }
            </style>
            
            <aside aria-label="shop closed notification banner" id="shop_closed_notification_wrap" style="display:none;">
                <div id="shop_closed_notification"><span id="shop_closed_notification_message"></span>
                    <button id="close-shop-notification" type="button" aria-label="close notfication">X</button>
                </div>
            </aside>
            
            <script>
            	
			    function fetch_store_status() {
			    	
			    	const repeatTimer		 = 30000;
			    	const bodySelector		 = jQuery('body');
			    	const storeStatusURL	 = '/wp-admin/admin-ajax.php?action=get_store_status';
			    	const topBarSelector	 = jQuery('.top_bar_store-status');
					const notificationMsg	 = jQuery('#shop_closed_notification_message');
					
	                jQuery.get(storeStatusURL,function(response) {
						if (response.store_status) {
							topBarSelector.html('Open Now');
							topBarSelector.attr('x',7)
							bodySelector.removeClass('store-has-status');
						} else {
							topBarSelector.html('Closed');
							topBarSelector.attr('x',16)
							if (response.message.length>0) {
								notificationMsg.html(response.message);
								bodySelector.addClass('store-has-status');
							}
						}
	                }).always(function() {
						setTimeout(fetch_store_status,repeatTimer);
					});
					
			    }
				
			    fetch_store_status();
			    
                jQuery('#close-shop-notification').click(function (e) {
                    jQuery('#shop_closed_notification_wrap').remove();
                })
               
            </script>
            
			<script>
        window.addEventListener('DOMContentLoaded',()=>{
          if(document.querySelector('.copyright')){
            document.querySelector('.copyright').insertAdjacentHTML('afterend','<br/><p class="slice-link" style="text-align: center;color: #fff; font-size: 11px; width: 75%; margin: auto"><a target="_blank" rel="noreferrer" href="https://slicelife.com/restaurants/ny/mahopac/10541/dante-s-trattoria-346f81d3-4371-4b0b-954a-274245768a71/menu?utm_campaign=order_now_button&utm_medium=referral&utm_source=dantestrattoria.com&utm_content=custom_link" style="color: #fff;text-decoration: underline;text-underline-offset: 3px;font-size: 14px;">Find us on Slice!</a></p>')
    }
  })
</script>			<script>
				const registerAllyAction = () => {
					if ( ! window?.elementorAppConfig?.hasPro || ! window?.elementorFrontend?.utils?.urlActions ) {
						return;
					}

					elementorFrontend.utils.urlActions.addAction( 'allyWidget:open', () => {
						if ( window?.ea11yWidget?.widget?.open ) {
							window.ea11yWidget.widget.open();
						}
					} );
				};

				const waitingLimit = 30;
				let retryCounter = 0;

				const waitForElementorPro = () => {
					return new Promise( ( resolve ) => {
						const intervalId = setInterval( () => {
							if ( retryCounter === waitingLimit ) {
								resolve( null );
							}

							retryCounter++;

							if ( window.elementorFrontend && window?.elementorFrontend?.utils?.urlActions ) {
								clearInterval( intervalId );
								resolve( window.elementorFrontend );
							}
								}, 100 ); // Check every 100 milliseconds for availability of elementorFrontend
					});
				};

				waitForElementorPro().then( () => { registerAllyAction(); });
			</script>
			<script> window.__haftahave={id:'PIZZA_STORES'},function(){var t=!1,a=function(){if(!document.readyState||/loaded|complete/.test(document.readyState)){if(!t)return t=!0,void setTimeout(a,50);var e=document.createElement("script");e.setAttribute("async","true"),e.type="text/javascript",e.src="https://tracking.haftahave.com/loader.min.js",((document.getElementsByTagName("head")||[null])[0]||document.getElementsByTagName("script")[0].parentNode).appendChild(e)}else setTimeout(a,10)};document.readyState&&/loaded|complete/.test(document.readyState)?a():window.addEventListener?window.addEventListener("load",a,!1):window.attachEvent("onload",a)}();</script>	<script type='text/javascript'>
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<link rel='stylesheet' id='wc-blocks-style-css' href='https://dantestrattoria.com/wp-content/plugins/woocommerce/assets/client/blocks/wc-blocks.css?ver=wc-10.3.5' type='text/css' media='all' />
<link rel='stylesheet' id='rs-plugin-settings-css' href='//dantestrattoria.com/wp-content/plugins/revslider/sr6/assets/css/rs6.css?ver=6.7.28' type='text/css' media='all' />
<style id='rs-plugin-settings-inline-css' type='text/css'>
#rs-demo-id {}
</style>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-93LGT1Y412" id="google-tag-manager-js" data-wp-strategy="async"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/dist/hooks.min.js?ver=4d63a3d491d11ffd8ac6" id="wp-hooks-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/dist/i18n.min.js?ver=5e580eb46a90c2b997e6" id="wp-i18n-js"></script>
<script type="text/javascript" id="wp-i18n-js-after">
/* <![CDATA[ */
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/woocommerce-google-analytics-integration/assets/js/build/main.js?ver=ecfb1dac432d1af3fbe6" id="woocommerce-google-analytics-integration-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/contact-form-7/includes/swv/js/index.js?ver=6.1.3" id="swv-js"></script>
<script type="text/javascript" id="contact-form-7-js-before">
/* <![CDATA[ */
var wpcf7 = {
    "api": {
        "root": "https:\/\/dantestrattoria.com\/wp-json\/",
        "namespace": "contact-form-7\/v1"
    },
    "cached": 1
};
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/contact-form-7/includes/js/index.js?ver=6.1.3" id="contact-form-7-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/jquery/ui/core.min.js?ver=1.13.3" id="jquery-ui-core-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-includes/js/jquery/ui/datepicker.min.js?ver=1.13.3" id="jquery-ui-datepicker-js"></script>
<script type="text/javascript" id="jquery-ui-datepicker-js-after">
/* <![CDATA[ */
jQuery(function(jQuery){jQuery.datepicker.setDefaults({"closeText":"Close","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nextText":"Next","prevText":"Previous","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["S","M","T","W","T","F","S"],"dateFormat":"MM d, yy","firstDay":1,"isRTL":false});});
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/pizza-custom-features/public/js/jquery-ui/jquery-ui.min.js?ver=6.1.2" id="yith_wapo_frontend-jquery-ui-js"></script>
<script type="text/javascript" id="wp-google-reviews_plublic_comb-js-extra">
/* <![CDATA[ */
var wprevpublicjs_script_vars = {"wpfb_nonce":"26d2bd1029","wpfb_ajaxurl":"https:\/\/dantestrattoria.com\/wp-admin\/admin-ajax.php","wprevpluginsurl":"https:\/\/dantestrattoria.com\/wp-content\/plugins\/wp-google-places-review-slider"};
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/wp-google-places-review-slider/public/js/wprev-public-com-min.js?ver=17.7" id="wp-google-reviews_plublic_comb-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/navigation.min.js?ver=20120206" id="pizzaro-navigation-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/skip-link-focus-fix.min.js?ver=20130115" id="pizzaro-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/bootstrap.min.js?ver=3.3.7" id="bootstrap-js-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/jquery.waypoints.min.js?ver=4.0.0" id="waypoints-js-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/readmore.min.js?ver=2.2.0" id="readmore-js-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/jquery.mCustomScrollbar.concat.min.js?ver=3.1.5" id="custom-scrollbar-js-js"></script>
<script type="text/javascript" id="pizzaro-js-js-extra">
/* <![CDATA[ */
var pizzaro_options = {"ajax_url":"https:\/\/dantestrattoria.com\/wp-admin\/admin-ajax.php","ajax_loader_url":"https:\/\/dantestrattoria.com\/wp-content\/themes\/pizzaro\/assets\/images\/ajax-loader.gif","enable_sticky_header":"","enable_excerpt_readmore":"1","excerpt_readmore_data":{"speed":75,"collapsedHeight":50,"moreLink":"<span style=\"display:none\">See More &raquo;<\/span>","lessLink":"<span style=\"display:none\">&laquo; See Less<\/span>"}};
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/pizzaro/assets/js/scripts.min.js?ver=1.3.9" id="pizzaro-js-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/woocommerce/assets/js/sourcebuster/sourcebuster.min.js?ver=10.3.5" id="sourcebuster-js-js"></script>
<script type="text/javascript" id="wc-order-attribution-js-extra">
/* <![CDATA[ */
var wc_order_attribution = {"params":{"lifetime":1.0e-5,"session":30,"base64":false,"ajaxurl":"https:\/\/dantestrattoria.com\/wp-admin\/admin-ajax.php","prefix":"wc_order_attribution_","allowTracking":true},"fields":{"source_type":"current.typ","referrer":"current_add.rf","utm_campaign":"current.cmp","utm_source":"current.src","utm_medium":"current.mdm","utm_content":"current.cnt","utm_id":"current.id","utm_term":"current.trm","utm_source_platform":"current.plt","utm_creative_format":"current.fmt","utm_marketing_tactic":"current.tct","session_entry":"current_add.ep","session_start_time":"current_add.fd","session_pages":"session.pgs","session_count":"udata.vst","user_agent":"udata.uag"}};
/* ]]> */
</script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/woocommerce/assets/js/frontend/order-attribution.min.js?ver=10.3.5" id="wc-order-attribution-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/themes/restaurants-20/js/theme-helpers.js?ver=1.06" id="theme-helpers-js"></script>
<script type="text/javascript" src="https://dantestrattoria.com/wp-content/plugins/kingcomposer/assets/frontend/js/kingcomposer.min.js?ver=2.9.6" id="kc-front-scripts-js"></script>
<script type="text/javascript" id="woocommerce-google-analytics-integration-data-js-after">
/* <![CDATA[ */
window.ga4w = { data: {"cart":{"items":[],"coupons":[],"totals":{"currency_code":"USD","total_price":0,"currency_minor_unit":2}}}, settings: {"tracker_function_name":"gtag","events":["purchase","add_to_cart","remove_from_cart","view_item_list","select_content","view_item","begin_checkout"],"identifier":null} }; document.dispatchEvent(new Event("ga4w:ready"));
/* ]]> */
</script>

<!-- This site is optimized with Phil Singleton's WP SEO Structured Data Plugin v2.8.1 - https://kcseopro.com/wordpress-seo-structured-data-schema-plugin/ -->

<!-- / WP SEO Structured Data Plugin. -->


</body>
</html>